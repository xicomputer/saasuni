(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/Index/Index"],{

/***/ 336:
/*!*******************************************************************************!*\
  !*** D:/products/xssj_New_basic_uni/main.js?{"page":"pages%2FIndex%2FIndex"} ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 5);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 4));
var _Index = _interopRequireDefault(__webpack_require__(/*! ./pages/Index/Index.vue */ 337));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;
createPage(_Index.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 337:
/*!************************************************************!*\
  !*** D:/products/xssj_New_basic_uni/pages/Index/Index.vue ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Index_vue_vue_type_template_id_1070d6ac___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Index.vue?vue&type=template&id=1070d6ac& */ 338);
/* harmony import */ var _Index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Index.vue?vue&type=script&lang=js& */ 340);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _Index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _Index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _Index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Index.vue?vue&type=style&index=0&lang=css& */ 342);
/* harmony import */ var _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 14);

var renderjs





/* normalize component */

var component = Object(_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _Index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _Index_vue_vue_type_template_id_1070d6ac___WEBPACK_IMPORTED_MODULE_0__["render"],
  _Index_vue_vue_type_template_id_1070d6ac___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _Index_vue_vue_type_template_id_1070d6ac___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pages/Index/Index.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 338:
/*!*******************************************************************************************!*\
  !*** D:/products/xssj_New_basic_uni/pages/Index/Index.vue?vue&type=template&id=1070d6ac& ***!
  \*******************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_template_id_1070d6ac___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Index.vue?vue&type=template&id=1070d6ac& */ 339);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_template_id_1070d6ac___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_template_id_1070d6ac___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_template_id_1070d6ac___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_template_id_1070d6ac___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 339:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/products/xssj_New_basic_uni/pages/Index/Index.vue?vue&type=template&id=1070d6ac& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 340:
/*!*************************************************************************************!*\
  !*** D:/products/xssj_New_basic_uni/pages/Index/Index.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Index.vue?vue&type=script&lang=js& */ 341);
/* harmony import */ var _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 341:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/products/xssj_New_basic_uni/pages/Index/Index.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _regenerator = _interopRequireDefault(__webpack_require__(/*! ./node_modules/@babel/runtime/regenerator */ 24));var _methods;function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function ownKeys(object, enumerableOnly) {var keys = Object.keys(object);if (Object.getOwnPropertySymbols) {var symbols = Object.getOwnPropertySymbols(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return Object.getOwnPropertyDescriptor(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {ownKeys(Object(source), true).forEach(function (key) {_defineProperty(target, key, source[key]);});} else if (Object.getOwnPropertyDescriptors) {Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));} else {ownKeys(Object(source)).forEach(function (key) {Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));});}}return target;}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {Promise.resolve(value).then(_next, _throw);}}function _asyncToGenerator(fn) {return function () {var self = this,args = arguments;return new Promise(function (resolve, reject) {var gen = fn.apply(self, args);function _next(value) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);}function _throw(err) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);}_next(undefined);});};}var menu = function menu() {__webpack_require__.e(/*! require.ensure | pages/Index/components/navs-bong/navs-bong */ "pages/Index/components/navs-bong/navs-bong").then((function () {return resolve(__webpack_require__(/*! ./components/navs-bong/navs-bong */ 1378));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var taskPop = function taskPop() {__webpack_require__.e(/*! require.ensure | pages/Index/integral/components/integralTask/integralTask */ "pages/Index/integral/components/integralTask/integralTask").then((function () {return resolve(__webpack_require__(/*! @/pages/Index/integral/components/integralTask/integralTask */ 1385));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var mpVideoSwiper = function mpVideoSwiper() {__webpack_require__.e(/*! require.ensure | miniprogram_npm/video-swiper/miniprogram_dist/index */ "miniprogram_npm/video-swiper/miniprogram_dist/index").then((function () {return resolve(__webpack_require__(/*! ../../miniprogram_npm/video-swiper/miniprogram_dist/index */ 1392));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var category1 = function category1() {__webpack_require__.e(/*! require.ensure | pages/Index/components/category1/index */ "pages/Index/components/category1/index").then((function () {return resolve(__webpack_require__(/*! ./components/category1/index */ 1399));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var category2 = function category2() {__webpack_require__.e(/*! require.ensure | pages/Index/components/category2/index */ "pages/Index/components/category2/index").then((function () {return resolve(__webpack_require__(/*! ./components/category2/index */ 1406));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var category3 = function category3() {__webpack_require__.e(/*! require.ensure | pages/Index/components/category3/index */ "pages/Index/components/category3/index").then((function () {return resolve(__webpack_require__(/*! ./components/category3/index */ 1413));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var category4 = function category4() {__webpack_require__.e(/*! require.ensure | pages/Index/components/category4/index */ "pages/Index/components/category4/index").then((function () {return resolve(__webpack_require__(/*! ./components/category4/index */ 1420));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var category5 = function category5() {__webpack_require__.e(/*! require.ensure | pages/Index/components/category5/index */ "pages/Index/components/category5/index").then((function () {return resolve(__webpack_require__(/*! ./components/category5/index */ 1427));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var category6 = function category6() {__webpack_require__.e(/*! require.ensure | pages/Index/components/category6/index */ "pages/Index/components/category6/index").then((function () {return resolve(__webpack_require__(/*! ./components/category6/index */ 1434));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var category7 = function category7() {__webpack_require__.e(/*! require.ensure | pages/Index/components/category7/index */ "pages/Index/components/category7/index").then((function () {return resolve(__webpack_require__(/*! ./components/category7/index */ 1441));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var my = function my() {__webpack_require__.e(/*! require.ensure | pages/Index/components/my/index */ "pages/Index/components/my/index").then((function () {return resolve(__webpack_require__(/*! ./components/my/index */ 1448));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var videoList = function videoList() {__webpack_require__.e(/*! require.ensure | pages/Index/components/videoList/index */ "pages/Index/components/videoList/index").then((function () {return resolve(__webpack_require__(/*! ./components/videoList/index */ 1455));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var dynamicList = function dynamicList() {__webpack_require__.e(/*! require.ensure | pages/Index/components/dynamic/index */ "pages/Index/components/dynamic/index").then((function () {return resolve(__webpack_require__(/*! ./components/dynamic/index */ 1462));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var noData = function noData() {__webpack_require__.e(/*! require.ensure | pages/Component/noData/index */ "pages/Component/noData/index").then((function () {return resolve(__webpack_require__(/*! @/pages/Component/noData/index */ 1371));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var storeClose = function storeClose() {__webpack_require__.e(/*! require.ensure | pages/Component/storeClose/index */ "pages/Component/storeClose/index").then((function () {return resolve(__webpack_require__(/*! @/pages/Component/storeClose/index */ 1469));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var hotel = function hotel() {__webpack_require__.e(/*! require.ensure | pages/Index/components/hotel/index */ "pages/Index/components/hotel/index").then((function () {return resolve(__webpack_require__(/*! @/pages/Index/components/hotel/index */ 1476));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var retail = function retail() {__webpack_require__.e(/*! require.ensure | pages/Index/components/retail/index */ "pages/Index/components/retail/index").then((function () {return resolve(__webpack_require__(/*! @/pages/Index/components/retail/index */ 1483));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var recommend = function recommend() {__webpack_require__.e(/*! require.ensure | pages/Index/components/recommend/recommend */ "pages/Index/components/recommend/recommend").then((function () {return resolve(__webpack_require__(/*! ./components/recommend/recommend */ 1490));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};












































































































































































































































































































































































































































































































































































































































































































// pages/Index/Index.js
// import Toast from '../../miniprogram_npm/@vant/weapp/toast/toast';
// import Dialog from '../../miniprogram_npm/@vant/weapp/dialog/dialog';

var time = __webpack_require__(/*! ../../utils/util */ 28);

var app = getApp();

var formate = __webpack_require__(/*! ../../utils/util */ 28);var _default =

{
  components: {
    menu: menu,
    // vanSticky,
    // vanPopup,
    // vanTabbar,
    // vanTabbarItem,
    // vanOverlay,
    // vanNoticeBar,
    taskPop: taskPop,
    mpVideoSwiper: mpVideoSwiper,
    category1: category1,
    category2: category2,
    category3: category3,
    category4: category4,
    category5: category5,
    category6: category6,
    category7: category7,
    my: my,
    videoList: videoList,
    dynamicList: dynamicList,
    // vanCountDown,
    noData: noData,
    storeClose: storeClose,
    hotel: hotel,
    retail: retail,
    recommend: recommend },

  data: function data() {
    return {
      isAdapter: false,
      isClose: false,

      // 是否关店
      isWuliu: false,

      // 开启物流
      isToStore: false,

      // 开启到店
      isToCity: false,

      // 开启同城
      status: 1,

      status1: 1,

      navs: [
      {
        name: '购物车',
        src: '/img/my/menu-gwc.png',
        url: './ShopCart/ShopCart',
        inAnimation: 'menu-in-animation1',
        outAnimation: 'menu-out-animation1',
        bottom: '280rpx',
        right: '80rpx' },

      {
        name: '我的',
        src: '/img/my/menu-wd.png',
        url: '/pages/tabPage/me/me',
        bottom: '150rpx',
        right: '160rpx',
        inAnimation: 'menu-in-animation2',
        outAnimation: 'menu-out-animation2' },

      {
        name: '返回',
        src: '/img/my/menu-fh.png',
        url: 'top',
        bottom: '20rpx',
        right: '80rpx',
        inAnimation: 'menu-in-animation3',
        outAnimation: 'menu-out-animation3' }],



      uniqueId: '',

      // 用户标识
      noticeContent: '',

      buton: true,
      showFollow: false,

      // 关注弹框
      toolList: [],

      marchantId: -1,
      noticeNum: 0,
      orderType: 0,
      markerInfo: [],

      //商家信息
      goodsList: [],

      //商品
      personnel: '',

      //关注
      shopList: [],

      //零售店铺
      hotelList: [],

      // 酒店店铺
      ltSix: [],

      lgFive: [],
      activeEnter: false,
      showTaskPop: false,

      // 任务弹框
      taskText: '你已完成发布动态任务获取3积分',

      // 任务文字
      shopIndex: 0,

      isFixed: false,

      // 是否吸顶
      isPromotion: false,

      isPromotionIcon: false,
      isDiscount: false,
      saleCanList: [],
      saleState: '已领取',
      show: false,

      //下单弹框
      skuList: [],

      //规格列表
      skuActive: null,

      //当前规格
      goodsData: {
        imageUrl: false,
        thumbnail: '',
        activityType: 0,
        isMember: '',
        lowPrice: '',
        originalPrice: '',
        stock: '',
        itemText: false },


      //当前商品数据
      buyNum: 1,

      //购买数量
      index: 0,

      //方式索引
      // tabbar
      nowTabbarText: '首页',

      tabList: [],

      tabList1: [
      {
        img: '/static/image/index/index1.png',
        imgActive: '/static/image/index/index1_active.png',
        text: '首页',
        isHave: true },

      {
        img: '/static/image/index/index7.png',
        imgActive: '/static/image/index/index7_active.png',
        text: '热卖',
        isHave: true },

      {
        // img:'/image/index/index2.png',
        // imgActive:'/image/index/index2_active.png',
        // text:'活动',
        // isHave:true
        img: '/static/image/index/index1.png',
        imgActive: '/static/image/index/index1_active.png',
        text: '商品推荐',
        isHave: true },

      {
        img: '/static/image/index/index6.png',
        imgActive: '/static/image/index/index6_active.png',
        text: '会员',
        isHave: true },

      {
        img: '/static/image/index/index5.png',
        imgActive: '/static/image/index/index5_active.png',
        text: '购物车',
        isHave: true },

      {
        img: '/static/image/index/index3.png',
        imgActive: '/static/image/index/index3_active.png',
        text: '订阅通知',
        isHave: true },

      {
        img: '/static/image/index/index4.png',
        imgActive: '/static/image/index/index4_active.png',
        text: '我的',
        isHave: true }],



      // 促销
      saleGoodsList: [],

      auctionList: [],

      // 会员
      memberGoodsList: [],

      // 订阅通知
      weekList: ['星期日', '已签到', '未签到', '签到', '星期四', '星期五', '星期六'],

      commentList: [],

      // 评论列表
      storeDynamicList: [],

      // 商家动态列表
      storeList: [],

      // 小店排行列表
      // 我的
      headList: [
      // {
      //   num: 0,
      //   unit: '元',
      //   name: '余额',
      // },
      // {
      //   num: 0,
      //   unit: '张',
      //   name: '会员卡',
      // },
      {
        num: 0,
        unit: '分',
        name: '积分' },

      {
        num: 0,
        unit: '张',
        name: '优惠券' }],



      toolOrderList: [
      {
        icon: '/static/pages/img/my/kefu.png',
        name: '客服',
        url: '/pages/order/contact/contact' },

      {
        icon: '/static/pages/img/my/shop-cart.png',
        name: '购物车',
        url: '/pages/Index/ShopCart/ShopCart' },

      {
        icon: '/static/pages/img/my/wodedontai.png',
        name: '评论',
        url: '/pages/Index/dynamic/commentList/commentList' },

      {
        icon: '/static/pages/img/my/notice.png',
        name: '我的优惠券',
        url: '/pages/Index/couponList/couponList' },

      {
        icon: '/static/pages/img/my/paimai_icon.png',
        name: '喊价',
        url: "/pages/activity/pmhd/pmEnter/pmEnter" },

      {
        icon: '/static/pages/img/my/store_apply.png',
        name: '小店申请' }],



      isIntegral: 0,

      // 是否进入订阅通知
      userInfo: {
        memberLeve: {
          discount: 0,
          name: '' },


        community: 0,
        status: 0 },


      // 用户信息
      orderNum: [],

      // 订单数字
      cityOrderNum: [],

      // 同城配送订单数字
      toStoreOrderNum: [],

      // 到店订单数字
      // 购物车
      openOverlay: false,

      editObj: {
        pi: '',
        ci: '',
        value: '' },


      show1: false,
      value: '',
      num: '',
      isAll: false,
      shopCartlist: [],
      listItem: '',

      // 热卖
      videoList: [],

      hotSaleGoodsList: [],

      // 热卖商品列表
      nowSaleGoods: {},

      // 当前热卖商品
      countDown: '',

      //积分活动倒计时
      timeData: {
        days: 0,
        hours: 0,
        minutes: 0,
        seconds: 0 },


      overTime: false,

      // 倒计时结束
      //活动列表
      activityList: [{}, {}, {}, {}, {}],

      activeStatuList: '',
      scene: '',
      cartNum: '',
      close: false,

      sitem: {
        httpAddress: '' },


      skuitem: {
        active: false,
        id: '',
        imageUrl: false,
        thumbnail: '',
        itemText: '' },


      goodItem: {
        commodityId: '',
        isPitch: false,
        imageUrl: false,
        thumbnail: '',
        commodityName: '',
        itemText: '',
        activityType: 0,
        isMember: '',
        lowPrice: '',
        originalPrice: '',
        amount: '' },


      goodIndex: 0 };

  },
  /**
      * 生命周期函数--监听页面加载
      */
  onLoad: function () {var _onLoad = _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee(options) {var _this = this;var scene, that;return _regenerator.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:
              // 是否是iso
              app.globalData.options = options;if (!

              options.scene) {_context.next = 7;break;}
              scene = decodeURIComponent(options.scene);_context.next = 5;return (
                this.getCodeParams(scene));case 5:_context.next = 10;break;case 7:

              if (options.personnel) {
                this.setData({
                  personnel: options.personnel });

              }

              if (options.uniqueId) {
                this.setData({
                  uniqueId: options.uniqueId });

              }

              this.setData(
              {
                marchantId: options.marchantId || -1 },

              function () {
                if (options.nowTabbarText) {
                  _this.setData({
                    nowTabbarText: '热卖' });

                  _this.getVideoList();
                }
              });case 10:



              this.setData({
                activeStatuList: app.globalData.activeStatuList,
                isAdapter: app.globalData.isAdapter });

              that = this; //查看是否授权

              uni.getSetting({
                success: function success(res) {
                  if (uni.getStorageSync('wx_userinfo_key')) {
                    // 已授权
                    if (uni.getStorageSync('token')) {
                      that.setData({
                        buton: false });

                    }

                    that.getUserInfo(); //that.getSeckill()//获得活动数据

                    that.showMarkerInfo(); //商家信息

                    if (that.uniqueId) {
                      that.getShareState();
                    }

                    that.queryRecommendList(); //商品热卖

                    that.getCategoryGoods(); //获得分类商品
                    // that.getCartNum()//获得购物车数字
                    // that.shopRecommendList()//店铺推荐

                    that.isShowSale(); //促销弹框
                    // that.getUserIntegral()
                  } else {
                    //用户没有授权
                    that.setData({
                      buton: true });

                    uni.navigateTo({
                      url: '/pages/shopHome/home/home' });

                  }
                } });case 13:case "end":return _context.stop();}}}, _callee, this);}));function onLoad(_x) {return _onLoad.apply(this, arguments);}return onLoad;}(),


  /**
                                                                                                                                                                       * 生命周期函数--监听页面显示
                                                                                                                                                                       */
  onShow: function onShow() {
    this.onShowClone3389();
  },
  /**
      * 生命周期函数--监听页面隐藏
      */
  onHide: function onHide() {},
  /**
                                 * 生命周期函数--监听页面卸载
                                 */
  onUnload: function onUnload() {},
  /**
                                     * 页面相关事件处理函数--监听用户下拉动作
                                     */
  onPullDownRefresh: function onPullDownRefresh() {
    this.getUserInfo();
    this.getCartNum(); //获得购物车数字
    //this.getSeckill()//获得活动数据

    this.showMarkerInfo(); //商家信息

    if (this.uniqueId) {
      this.getShareState();
    }

    this.queryRecommendList(); //商品热卖

    this.getCategoryGoods(); //获得分类商品
    // this.shopRecommendList()//店铺推荐

    this.isShowSale(); //优惠弹框
    // this.getUserIntegral()

    setTimeout(function () {
      uni.stopPullDownRefresh();
    }, 2000);
  },
  /**
      * 页面上拉触底事件的处理函数
      */
  onReachBottom: function onReachBottom() {},
  /**
                                               * 用户点击右上角分享
                                               */
  onShareAppMessage: function onShareAppMessage() {
    var uniqueId = uni.getStorageSync('uniqueId1');
    return {
      title: this.markerInfo.nickName,
      path: '/pages/shopHome/home/home?marchantId=' + this.marchantId + '&uniqueId=' + uniqueId,
      imageUrl: this.markerInfo.homeImg[0] };

  },
  methods: (_methods = {
    /**
                          * 生命周期函数--监听页面显示
                          */
    onShowClone3389: function onShowClone3389() {
      uni.hideHomeButton(); //隐藏返回首页按钮

      if (this.marchantId != -1) {
        this.getCartNum();
        this.getOrderNum();
        this.getUserIntegral();
        this.geteCountDown(); //获得积分任务列表
      }
    },

    //是否从小程序码进来
    getCodeParams: function getCodeParams(id) {var _this2 = this;
      var data = {
        id: id };

      var that = this;
      return app.globalData.sjrequest('/marchant/queryIdentifica', data).then(function (res) {
        if (res.data.code == 200) {
          that.setData({
            scene: JSON.parse(res.data.data.scene),
            marchantId: JSON.parse(res.data.data.scene).id });

          app.globalData.marchantId = JSON.parse(res.data.data.scene).id;

          if (that.scene.pid) {
            _this2.setData({
              personnel: that.scene.pid });

          }

          that.onShowClone3389({});
        }
      });
    },

    // 获取积分任务
    // getTaskList(){
    //   let data = {marchantId:this.data.marchantId}
    //   return app.sjrequest('/integral/queryMyTaskList',data).then(res=>{
    //     this.setData({
    //       taskList:res.data.data
    //     })
    //     this.geteCountDown()
    //   })
    // },
    // 获得积分倒计时
    geteCountDown: function geteCountDown() {var _this3 = this;
      var data = {
        marchantId: this.marchantId,
        type: 3 };

      app.globalData.sjrequest('/integral/operateSignin', data).then(function (res) {
        if (res.data.code == 200) {
          var time1 = time.formatTimeSec(res.data.data.countDownTime || '');
          time1 = new Date(time1.replace(/-/g, '/')).getTime() - new Date().getTime();
          _this3.setData({
            countDown: time1 });

        }
      });
    },

    changeTime: function changeTime(e) {
      this.setData({
        timeData: e.detail });

    },

    // 倒计时结束
    overTimeFun: function overTimeFun() {
      this.setData({
        overTime: true });

    },

    // 完成任务
    toFinishTask: function toFinishTask(e) {
      var url = e.currentTarget.dataset.url;
      uni.navigateTo({
        url: url + '?marchantId=' + this.marchantId });

    },

    //获得购物车数量
    getCartNum: function getCartNum() {var _this4 = this;
      var data = {
        marchantId: this.marchantId };

      app.globalData.sjrequest('/commodity/countTrolley', data).then(function (res) {
        if (res.data.code == 200) {
          var countTrolley = res.data.data.countTrolley;
          _this4.setData({
            cartNum: countTrolley });

        }
      });
    },

    // 跳会员
    toMember: function toMember() {
      uni.navigateTo({
        url: "/pages/member/card/card?marchantId=".concat(this.marchantId) });

    },

    // 跳会员
    toIntergral: function toIntergral() {
      uni.navigateTo({
        url: "/pages/Index/integral/integral?marchantId=".concat(this.marchantId) });

    },

    /**图片预览 */
    imgClick: function imgClick(e) {
      var src = e.currentTarget.dataset.src;
      var imgList = e.currentTarget.dataset.list;
      var list = [];

      for (var index = 0; index < imgList.length; index++) {
        list[index] = imgList[index].httpAddress;
      }

      uni.previewImage({
        current: src,
        urls: list });

    },

    /**商家基本信息 */
    showMarkerInfo: function showMarkerInfo() {var _this5 = this;
      var data = {
        id: this.marchantId };

      app.globalData.sjrequest('/marchant/queryMarchantInfo', data).then(function (res) {
        if (res.data.code == 200) {
          var result = res.data.data;
          console.log('详情信息：', res);

          if (result.businessModel) {
            if (result.businessModel.indexOf('1') != -1) {
              _this5.setData({
                isWuliu: true });

            }

            if (result.businessModel.indexOf('2') != -1) {
              _this5.setData({
                isToCity: true });

            }

            if (result.businessModel.indexOf('3') != -1) {
              _this5.setData({
                isToStore: true });

            }
          }

          var orderType = result.businessModel.split(',').sort();
          orderType = orderType[0];
          _this5.setData({
            orderType: orderType });
          // if(!result.isfans&&!this.data.buton){
          //   this.setData({
          //     showFollow:true
          //   })
          // }

          if (result.thepointSins) {
            result.thepointSins.forEach(function (item) {
              item.addTime = formate.formatDate(item.addTime);
            });
          }

          var noticeTxt = '';

          if (result.notify) {
            result.notify.forEach(function (item) {
              noticeTxt = noticeTxt + item.content;
            });
          }

          if (res.data.data.marchantCorrelationList.length) {
            var list = [];
            var hotelList = [];
            res.data.data.marchantCorrelationList.forEach(function (item) {
              if (item.marchantCorrelation.source == 1) {
                list.push(item);
              }

              if (item.marchantCorrelation.source == 2) {
                hotelList.push(item);
              }
            });
          } //result.shopTemplateId=7;测试赋值

          _this5.setData({
            tabList: _this5.tabList1,
            markerInfo: result,
            noticeContent: noticeTxt,
            shopList: list,
            hotelList: hotelList });

          uni.setNavigationBarTitle({
            title: _this5.markerInfo.nickName });

        } else if (res.data.code == 338) {
          _this5.setData({
            isClose: true });

        }
      });
    },

    // 分享转发
    getShareState: function getShareState() {
      var data = {
        marchantId: this.marchantId,
        uniqueId: this.uniqueId,
        type: 4 };

      app.globalData.sjrequest('/transiter/onTransmit', data).then(function (res) {});
    },

    showDingYue: function showDingYue() {
      // 获取用户信息
      var that = this;
      uni.requestSubscribeMessage({
        tmplIds: [app.globalData.sj_publish_article],
        success: function success(res) {
          uni.getSetting({
            withSubscriptions: true,
            success: function success(result) {
              if (result.subscriptionsSetting['jvI8z85nDADGOrxnLxVsfx4JTASr2g80ZxnjkS59BEo'] == 'accept') {
                that.setData({
                  status: 2 });

              }

              if (res['jvI8z85nDADGOrxnLxVsfx4JTASr2g80ZxnjkS59BEo'] == 'accept') {
                var data = {
                  status: that.status,
                  marchantId: that.marchantId,
                  templateIds: 'jvI8z85nDADGOrxnLxVsfx4JTASr2g80ZxnjkS59BEo' };

                app.globalData.sjrequest('/basic/addsubscription', data).then(function (res) {
                  if (res.data.code == 200) {
                    var isDingYue = 'markerInfo.subscribe';
                    that[markerInfo.subscribe] = 1;
                    uni.showToast({
                      title: '订阅消息成功' });

                  } else {
                    uni.showToast({
                      title: res.data.msg,
                      icon: 'none' });

                  }
                });
              }
            } });

        },

        fail: function fail(e) {
          console.log(e);
          uni.showToast({
            title: '订阅消息失败,请点击右上角三个点中的设置打开消息订阅开关',
            icon: 'none' });

        } });

    },

    showDingYue1: function showDingYue1() {var _this6 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee2() {var that;return _regenerator.default.wrap(function _callee2$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0:
                // 订阅
                that = _this6;
                uni.requestSubscribeMessage({
                  tmplIds: [app.globalData.sj_commodity_modify, app.globalData.sj_commodity_add],
                  success: function success(res) {
                    uni.getSetting({
                      withSubscriptions: true,
                      success: function success(result) {
                        if (
                        result.subscriptionsSetting['5TDTuj6Dq289EzrnzvpHD3Y_MEranwSWe8bON7IJsNc'] == 'accept' ||
                        result.subscriptionsSetting['7Xn5f85WfODTkVQqQCWxNGuJA95Lm8jGYFYef0pnveI'] == 'accept')
                        {
                          that.setData({
                            status1: 2 });

                          console.log('总是订阅');
                        } else {
                          console.log('订阅1次');
                        }

                        if (res['5TDTuj6Dq289EzrnzvpHD3Y_MEranwSWe8bON7IJsNc'] == 'accept' || res['7Xn5f85WfODTkVQqQCWxNGuJA95Lm8jGYFYef0pnveI'] == 'accept') {
                          var data = {
                            status: that.status1,
                            marchantId: that.marchantId,
                            templateIds: '5TDTuj6Dq289EzrnzvpHD3Y_MEranwSWe8bON7IJsNc,7Xn5f85WfODTkVQqQCWxNGuJA95Lm8jGYFYef0pnveI' };

                          app.globalData.sjrequest('/basic/addsubscription', data).then(function (res) {
                            if (res.data.code == 200) {
                              var isDingYue = 'markerInfo.subscribe1';
                              that[markerInfo.subscribe1] = 1;
                              uni.showToast({
                                title: '订阅消息成功' });

                            } else {
                              uni.showToast({
                                title: res.data.msg,
                                icon: 'none' });

                            }
                          });
                        }
                      } });

                  },

                  fail: function fail() {
                    uni.showToast({
                      title: '订阅消息失败,请点击右上角三个点中的设置打开消息订阅开关',
                      icon: 'none' });

                  } });case 2:case "end":return _context2.stop();}}}, _callee2);}))();

    },

    // 个人中心
    toMy: function toMy() {
      uni.switchTab({
        url: '/pages/tabPage/me/me' });

    },

    /** 商品热卖 */
    queryRecommendList: function queryRecommendList() {var _this7 = this;
      var data = {
        marchantId: this.marchantId };

      app.globalData.sjrequest('/commodity/queryRecommendList', data).then(function (res) {
        if (res.data.code == 200) {
          var result = res.data.data;
          _this7.setData({
            ltSix: result.slice(0, 5),
            lgFive: result.slice(5) });

        }
      });
    },

    /** 店铺推荐 */
    shopRecommendList: function shopRecommendList() {var _this8 = this;
      var data = {
        marchantId: this.marchantId };

      app.globalData.sjrequest('/marchant/queryRecommendList', data).then(function (res) {
        if (res.data.code == 200) {
          var result = res.data.data;
          _this8.setData({
            shopList: result });

        }
      });
    },

    scroll: function scroll(e) {
      this.setData({
        shopIndex: Math.round(e.detail.scrollLeft / 529 * 2) });

    },

    /** 添加关注 */
    addDelConcerns: function addDelConcerns() {var _this9 = this;
      var data = {
        marchantId: this.marchantId,
        type: 1 };


      if (this.personnel != 0) {
        data.saleUniqueId = this.personnel;
      }

      app.globalData.sjrequest('/marchant/operateConcerns', data).then(function (res) {
        if (res.data.code == 200) {
          uni.showToast({
            title: '关注成功！',
            icon: 'success' });

          _this9.markerInfo.isfans = 1;
          _this9.setData({
            markerInfo: _this9.markerInfo,
            showFollow: false });

        }
      });
    },

    // 关闭关注弹框
    closeFollow: function closeFollow() {
      this.setData({
        showFollow: false });

    },

    /** 获得分类商品 */
    getCategoryGoods: function getCategoryGoods() {var _this10 = this;
      var data = {
        marchantId: this.marchantId };

      app.globalData.sjrequest('/commodity/queryClassifyCommodityList', data).then(function (res) {
        if (res.data.code == 200) {
          // res.data.data.forEach(item => {
          //   var dataList={'marchantId':this.data.marchantId,'classifyId':item.id,'pageCurr':1,'pageSize':5}
          //   app.sjrequest('/commodity/queryCommodityList',dataList).then(result =>{
          //     if(result.data.code==200){
          //       item.list = result.data.data
          //     }
          _this10.setData({
            goodsList: res.data.data });
          //   })
          // });
        }
      });
    },

    /** 查看商品详情 */
    toGoodsDetails: function toGoodsDetails(e) {
      var id = e.currentTarget.dataset.id;
      uni.navigateTo({
        url: '/pages/Index/GoodsDetails/GoodsDetails?id=' + id });

    },

    /** 加入购物车 */
    addCart: function addCart(e) {
      var item = e.item || e.currentTarget.dataset.item;
      item.itemText = '';
      this.setData({
        goodsData: item,
        buyNum: 1,
        skuActive: null,
        show: true });

      this.getSku(item.commodityId); // var item = e.currentTarget.dataset.item
      // var data={
      //   'tempSpecId':item.tempSkuId,
      //   'commodityId':item.commodityId,
      //   'amount':1,
      //   'marchantId':this.data.marchantId,
      //   'operate':1
      // }
      // app.sjrequest('/commodity/addTrolley',data).then(res =>{
      //   if(res.data.code==200){
      //     this.getCartNum()
      //     wx.showToast({
      //       title:'添加成功',
      //       icon:'success'
      //     })
      //   }
      // })
    },

    // 获得商品规格
    getSku: function getSku(commodityId) {
      var that = this;
      var data = {
        commodityId: commodityId,
        marchantId: this.marchantId };

      app.globalData.sjrequest('/commodity/queryCommoSku', data).then(function (res) {
        if (res.data.code == 200) {
          that.setData({
            skuList: res.data.data,
            goodsData: res.data.data[0] });

          res.data.data.forEach(function (item, index) {
            var skuItem = 'skuList[' + index + '].active';

            if (item.isDefault == 1) {
              that.skuList[index].active = true;
              that.setData({
                goodsData: item });

            } else {
              that.skuList[index].active = false;
            }
          });
        }
      });
    },

    //关闭商品弹框
    onClose1: function onClose1() {
      this.setData({
        show: false });

    },

    // 切换 sku
    handleSelectSku: function handleSelectSku(e) {var _this11 = this;
      if (this.skuActive === e.currentTarget.dataset.index) {
        return;
      } else {
        this.setData({
          skuActive: e.currentTarget.dataset.index });

        this.skuList.forEach(function (el, i) {
          var skuItem = 'skuList[' + i + '].active';
          _this11.skuList[i].active = false;
        });
        var skuItem = 'skuList[' + this.skuActive + '].active';
        this.skuList[this.skuActive].active = true;
        this.setData({
          goodsData: this.skuList[this.skuActive] });

      }
    },

    // 编辑数量
    handleEdit: function handleEdit(e) {
      if (e.currentTarget.dataset.type === 'minus') {
        // 减一
        if (this.buyNum === 1) {
          uni.showToast({
            title: '数量不能少于1',
            icon: 'none' });

          return;
        } else {
          this.setData({
            buyNum: this.buyNum - 1 });

        }
      } else {
        // 加一
        this.setData({
          buyNum: this.buyNum + 1 });

      }
    },

    // 加入购物车
    handlePopupAddCart: function handlePopupAddCart() {var _this12 = this;
      var data = {
        tempSpecId: this.goodsData.id,
        commodityId: this.goodsData.commodityId,
        amount: this.buyNum,
        marchantId: this.marchantId,
        operate: 1 };

      app.globalData.sjrequest('/commodity/addTrolley', data).then(function (res) {
        if (res.data.code == 200) {
          uni.showToast({
            title: '添加成功',
            icon: 'success' });

          _this12.getCartNum();
        }
      });
    },

    //确认下单
    surexf: function surexf() {
      if (this.goodsData.stock == 0) {
        uni.showToast({
          title: '暂无库存',
          icon: 'none' });

        return;
      }

      console.log(this.orderType);
      var jsonData = {
        marchantId: this.marchantId,
        orderType: this.orderType,
        commoditys: [
        {
          commodityId: this.goodsData.commodityId,
          tempSpecId: this.goodsData.id,
          amount: this.buyNum }] };


      // 使用社交token

      var token = uni.getStorageSync('token');
      app.globalData.sjrequest1('/order/onekeyAboutOrder', jsonData, token).then(function (res) {
        if (res.data.code === 200) {
          // 更新 store 数据
          app.globalData.store.setState({
            submitObj: JSON.stringify(res.data.data) });

          uni.navigateTo({
            url: '/pages/order/submitOrder/submitOrder' });

        }
      }); // }
    },

    /** 获取秒杀数据 */
    getSeckill: function getSeckill() {var _this13 = this;
      var data = {
        merchantId: this.marchantId };

      var token = uni.getStorageSync('token');
      app.globalData.sjrequest1('/activity/findActivityState', data, token).then(function (res) {
        if (res.data.code == 200) {
          var list = res.data.data;
          list.forEach(function (item) {
            switch (item.state) {
              case -1:
                item.name = '未开放';
                break;

              case 0:
                item.name = '未发布';
                break;

              case 1:
                item.name = '未开始';
                break;

              case 2:
                item.name = '进行中';
                break;

              case 3:
                item.name = '已结束';
                break;}

          });
          _this13.setData({
            toolList: res.data.data });

        }
      });
    },

    /** 去秒杀 */
    toSeckill: function toSeckill(e) {
      var index = e.currentTarget.dataset.index;

      if (this.toolList[index].state == 1 || this.toolList[index].state == 2) {
        uni.navigateTo({
          url: this.toolList[index].url + '?marchantId=' + this.marchantId });

      } else {
        uni.showToast({
          title: '活动' + this.toolList[index].name,
          icon: 'none' });

      }
    },

    //判断弹什么框
    isShowWhatBox: function isShowWhatBox() {
      var that = this;
      var activeStatuList = that.activeStatuList;
      var listIndex = -1; // 判断是否弹过促销框和优惠框

      var flag = 0; //0-都没弹过，1-都弹过，2-只弹过促销框，3-只弹过优惠框

      activeStatuList.forEach(function (item, index) {
        if (item.marchantId == that.marchantId) {
          if (item.isPromotion == true) {
            if (item.isDiscount == true) {
              flag = 1; //都弹过
            } else {
              flag = 2; //只弹过促销框

              listIndex = index;
            }

            return;
          }

          if (item.isDiscount == true) {
            if (item.isPromotion == true) {
              flag = 1; //都弹过
            } else {
              flag = 3; //只弹过优惠框

              listIndex = index;
            }

            return;
          }
        }
      }); // flag：0-都没弹过，1-都弹过，2-只弹过促销框，3-只弹过优惠框

      if (flag == 0) {
        //都没弹过
        activeStatuList.push({
          marchantId: that.marchantId,
          isPromotion: true,
          isDiscount: false,
          discountNum: 0 });

        that.setData({
          // isPromotion: true
          isPromotionIcon: true });
        // 优惠判断

        that.isShowSale();
      } else if (flag == 1 || flag == 2) {
        //都弹过、弹过促销框
        that.setData({
          isPromotionIcon: true });
        // 优惠判断

        that.isShowSale();
      } else if (flag == 3) {
        //弹过优惠框
        activeStatuList[listIndex].isPromotion = true;
        that.setData({
          isPromotion: true });
        // 优惠判断

        that.isShowSale();
      }

      app.globalData.activeStatuList = this.activeStatuList;
    },

    /** 促销是否弹窗 */
    isShowPromotion: function isShowPromotion() {var _this14 = this;
      var data = {
        marchantId: this.marchantId };

      app.globalData.sjrequest('/commodity/queryPromotionList', data).then(function (res) {
        if (res.data.code == 200) {
          if (res.data.data.length) {
            _this14.isShowWhatBox(); //判断弹什么框
          }
        }
      });
    },

    // 关闭促销弹窗
    promotionClose: function promotionClose() {
      this.setData({
        isPromotion: false,
        isPromotionIcon: true });

      this.isShowSale();
    },

    // 进入促销列表
    promotionEnter: function promotionEnter() {
      this.setData({
        isPromotion: false,
        isPromotionIcon: true });

      uni.navigateTo({
        url: './promotionList/promotionList?marchantId=' + this.marchantId + '&marchantName=' + this.markerInfo.nickName });

    },

    // 进入游戏抽奖列表
    yxcjEnter: function yxcjEnter() {
      uni.navigateTo({
        url: '/pages/activity/yxcj/activeList/activeList?marchantId=' + this.marchantId });

    },

    // 优惠是否弹框
    isShowSale: function isShowSale() {var _this15 = this;
      var data = {
        marchantId: this.marchantId };

      app.globalData.sjrequest('/coupons/queryCouponsGet', data).then(function (res) {
        if (res.data.code == 200) {
          if (res.data.data.length) {
            var saleCanList = [];
            res.data.data.forEach(function (item) {
              if (item.isDraw == 0) {
                saleCanList.push(item);
                _this15.setData({
                  isDiscount: true,
                  saleState: '点击领券' });

              }

              item.endTime = formate.formatDate(item.endTime);
            });
            _this15.setData({
              saleCanList: saleCanList });

            app.globalData.activeStatuList = _this15.activeStatuList;
          }
        }
      });
    },

    // 关闭优惠弹窗
    closeSale: function closeSale() {
      this.setData({
        isDiscount: false });

    },

    receiveSale: function receiveSale() {var _this16 = this;
      var data = {
        couponsIds: [] };

      this.saleCanList.forEach(function (item) {
        if (item.isDraw == 0) {
          data.couponsIds.push(item.id);
        }
      });
      data.couponsIds = data.couponsIds.toString();
      var token = uni.getStorageSync('token');
      app.globalData.sjrequest('/coupons/getCoupons', data, token).then(function (res) {
        if (res.data.code == 200) {
          _this16.setData({
            isDiscount: false });

          uni.showToast({
            title: '领取成功',
            icon: 'none' });

        }
      });
    },

    toMe: function toMe() {
      uni.switchTab({
        url: '/pages/tabPage/me/me' });

    },

    // tabbar
    changeTab: function changeTab(e) {
      var text = e.currentTarget.dataset.text;
      this.setData({
        nowTabbarText: text });


      if (text == '首页') {
        uni.setNavigationBarTitle({
          title: this.markerInfo.nickName });

      }

      if (text == '活动') {
        uni.setNavigationBarTitle({
          title: '活动' });

        this.getCategoryGoodsList();
        this.getAuctionList();
      }

      if (text == '热卖') {
        uni.setNavigationBarTitle({
          title: '热卖' });

        this.getVideoList();
      }

      if (text == '购物车') {
        uni.showLoading({
          title: '加载中' });

        this.getCartData();
        uni.setNavigationBarTitle({
          title: '购物车' });

      }

      if (text == '订阅通知') {
        uni.setNavigationBarTitle({
          title: '订阅通知' });

      }

      if (text == '我的') {
        uni.setNavigationBarTitle({
          title: '我的' });

      }

      if (text == '会员') {
        this.getMemberGoodsList();
        uni.setNavigationBarTitle({
          title: '会员' });

      }

      if (text == '商品推荐') {
        this.getMemberGoodsList();
        uni.setNavigationBarTitle({
          title: '商品推荐' });

      }
    },

    // 活动
    getCategoryGoodsList: function getCategoryGoodsList() {var _this17 = this;
      var data = {
        marchantId: this.marchantId };

      app.globalData.sjrequest('/commodity/queryPromotionList', data).then(function (res) {
        if (res.data.code == 200) {
          uni.hideLoading();
          _this17.setData({
            saleGoodsList: res.data.data });

        } else {
          uni.showToast({
            title: res.data.msg,
            icon: 'none' });

        }
      });
    },

    // 获得拍卖列表
    getAuctionList: function getAuctionList() {var _this18 = this;
      var params = {
        pageNum: 1,
        pageSize: 4,
        merchantId: this.marchantId };

      app.globalData.request.auctionRequest('/auction/list', params).then(function (res) {
        if (res.data.code == 200) {
          var result = res.data.data;
          result.forEach(function (item) {
            item.startTime = new Date(item.startTime.replace(/-/g, '/')).getTime() - new Date().getTime();
            item.endTime1 = new Date(item.endTime.replace(/-/g, '/')).getTime() - new Date().getTime();
          });
          _this18.setData({
            auctionList: result });

        }
      });
    },

    // 会员
    getMemberGoodsList: function getMemberGoodsList() {var _this19 = this;
      var data = {
        marchantId: this.marchantId };

      app.globalData.sjrequest('/commodity/queryMemberCommodityList', data).then(function (res) {
        if (res.data.code == 200) {
          uni.hideLoading();
          _this19.setData({
            memberGoodsList: res.data.data });

        } else {
          uni.showToast({
            title: res.data.msg,
            icon: 'none' });

        }
      });
    },

    // 去下单
    goBuy: function goBuy(e) {
      var item = e.currentTarget.dataset.item;
      item.stock = '请选择规格';
      item.itemText = '请选择规格';
      this.setData({
        goodsData: item,
        buyNum: 1,
        skuActive: null,
        show: true });

      this.getSku(item.id);
    },

    // 订阅通知
    // 获取订阅通知列表
    getCommunityList: function getCommunityList() {var _this20 = this;
      var data = {
        marchantId: this.marchantId,
        pageCurr: 1,
        pageSize: 10,
        stick: 1,
        isMarchant: 0 };

      return app.globalData.sjrequest('/marchant/queryMarchantComment', data).then(function (res) {
        if (res.data.code == 200) {
          uni.hideLoading();
          res.data.data.forEach(function (item) {
            item.addTime = time.formatTime(item.addTime);
          });
          _this20.setData({
            commentList: res.data.data });

        } else {
          uni.showToast({
            title: res.data.msg,
            icon: 'none' });

        }
      });
    },

    // 获取商家动态
    getStoreDynamicList: function getStoreDynamicList() {var _this21 = this;
      var data = {
        marchantId: this.marchantId,
        pageCurr: 1,
        pageSize: 10,
        isMarchant: 1,
        stick: 1 };

      return app.globalData.sjrequest('/marchant/queryMarchantComment', data).then(function (res) {
        if (res.data.code == 200) {
          res.data.data.forEach(function (item) {
            item.addTime = time.formatDateTime(item.addTime);
          });
          _this21.setData({
            storeDynamicList: res.data.data });

        }
      });
    },

    //  小店排行列表
    getStoreList: function getStoreList() {var _this22 = this;
      var data = {
        marchantId: this.marchantId,
        pageCurr: 1,
        pageSize: 5 };

      return app.globalData.sjrequest('/marchant/queryMarchantStoreList', data).then(function (res) {
        if (res.data.code == 200) {
          uni.hideLoading();
          _this22.setData({
            storeList: res.data.data });

        } else {
          uni.showToast({
            title: res.data.msg,
            icon: 'none' });

        }
      });
    },

    toWrite: function toWrite() {
      uni.navigateTo({
        url: "/pages/Index/dynamic/postComment/postComment?marchantId=".concat(this.marchantId) });

    },

    // 点赞/取消
    operationPraise: function operationPraise(e) {var _this23 = this;var _e$currentTarget$data =
      e.currentTarget.dataset,id = _e$currentTarget$data.id,idx = _e$currentTarget$data.idx;
      console.log(id, idx);
      var data = {
        commentId: id };

      return app.globalData.sjrequest('/marchant/operationPraise', data).then(function (res) {
        var isPraise = 'commentList[' + idx + '].isPraise';
        var praise = 'commentList[' + idx + '].praise';

        if (_this23.commentList[idx].isPraise) {
          _this23.commentList[idx].praise = _this23.commentList[idx].praise - 1;
          _this23.commentList[idx].isPraise = 0;
        } else {
          _this23.commentList[idx].praise = _this23.commentList[idx].praise + 1;
          _this23.commentList[idx].isPraise = 1;
        }
      });
    },

    // 更多评论
    toMore: function toMore() {
      uni.navigateTo({
        url: "/pages/Index/dynamic/commentList/commentList?marchantId=".concat(this.marchantId, "&stick=1") });

    },

    //  我的
    pagesTo: function pagesTo(e) {
      var idx = e.detail;

      switch (idx) {
        case 0:
          uni.navigateTo({
            url: this.toolOrderList[idx].url + "?marchantId=".concat(this.marchantId, "&marchantName=").concat(this.markerInfo.nickName, "&logoPic=").concat(this.markerInfo.logoPic) });

          break;

        case 2:
          uni.navigateTo({
            url: this.toolOrderList[idx].url + "?marchantId=".concat(this.marchantId) + "&stick=2" });

          break;

        case 5:
          uni.navigateToMiniProgram({
            appId: 'wxcad66233bce675b4',
            path: "/pages/tabBar/home/home?marchant=".concat(this.marchantId) });


        default:
          uni.navigateTo({
            url: this.toolOrderList[idx].url + "?marchantId=".concat(this.marchantId) });}


    } }, _defineProperty(_methods, "toMember", function toMember()


  {
    uni.navigateTo({
      url: "/pages/member/card/card?marchantId=".concat(this.marchantId) });

  }), _defineProperty(_methods, "toDetail", function toDetail(


  e) {
    var idx = e.detail;

    switch (idx) {
      case 0:
        if (this.isIntegral) {
          uni.navigateTo({
            url: '/pages/Index/integral/integral?marchantId=' + this.marchantId });

        } else {
          uni.showToast({
            title: '商家未开放',
            icon: 'none' });

        }

        break;

      case 1:
        uni.navigateTo({
          url: '/pages/Index/couponList/couponList?marchantId=' + this.marchantId });

        break;

      default:
        uni.showToast({
          title: '敬请期待',
          icon: 'none' });}


  }), _defineProperty(_methods, "getUserInfo", function getUserInfo()


  {var _this24 = this;
    var data = {
      marchantId: this.marchantId };

    app.globalData.sjrequest('/userRegister/queryUserInfo', data).then(function (res) {
      if (res.data.code == 200) {
        uni.hideLoading();

        if (res.data.data.uniqueId) {
          uni.setStorage({
            data: res.data.data.uniqueId,
            key: 'uniqueId1' });

        }

        if (res.data.data.community == 0) {
          // 未开启订阅通知
          var tabs = 'tabList1[5].isHave';
          _this24[tabList1[5].isHave] = false;
        } else {
          var _tabs = 'tabList1[4].isHave';
          _this24[tabList1[5].isHave] = false;
        }

        if (!res.data.data.statusv) {
          // 热卖是否开启
          var _tabs2 = 'tabList1[1].isHave';
          _this24[tabList1[5].isHave] = false;
        }

        if (!res.data.data.statusm) {
          // 会员是否开启
          var _tabs3 = 'tabList1[3].isHave';
          _this24[tabList1[5].isHave] = false;
        }

        var wxUserInfo = uni.getStorageSync('wx_userinfo_key') || {};
        _this24.setData({
          userInfo: _objectSpread(_objectSpread({}, res.data.data), {}, { avatarUrl: wxUserInfo.userInfo.avatarUrl, nickName: wxUserInfo.userInfo.nickName }) });

      } else {
        uni.showToast({
          title: res.data.msg,
          icon: 'none' });

      }
    });
  }), _defineProperty(_methods, "getUserIntegral", function getUserIntegral()


  {var _this25 = this;
    var data = {
      marchantId: this.marchantId };

    return app.globalData.sjrequest('/integral/queryInte', data).then(function (res) {
      if (res.data.code == 200) {
        var integral = 'headList[0].num';
        _this25[headList[0].num] = res.data.data.isopen ? res.data.data.score : 0;
        _this25.setData({
          isIntegral: res.data.data.isopen });

      }
    });
  }), _defineProperty(_methods, "getOrderNum", function getOrderNum()


  {var _this26 = this;
    var data = {
      type: 2,
      marchantId: this.marchantId };

    app.globalData.sjrequest('/basic/queryCountAmount', data).then(function (res) {
      var list = [res.data.data.citywideOrderState0, res.data.data.citywideOrderState1, res.data.data.citywideOrderState2, 0, res.data.data.citywideRefundState];
      var cityList = [res.data.data.sendState0, res.data.data.sendState1, res.data.data.sendState2];
      var couponNum = 'headList[1].num';
      var list1 = [res.data.data.fetchState0, res.data.data.fetchState1, 0];
      _this26[headList[1].num] = res.data.data.countUserCoupons;
      _this26.setData({
        orderNum: list,
        cityOrderNum: cityList,
        toStoreOrderNum: list1,
        noticeNum: res.data.data.sumCount });

    });
  }), _defineProperty(_methods, "getCartData", function getCartData()

  {var _this27 = this;
    // 使用社交token
    var data =
    this.marchantId == -1 ?
    {} :
    {
      marchantId: this.marchantId };

    return app.globalData.sjrequest('/commodity/queryTrolleyList', data).then(function (res) {
      if (res.data.code === 200) {
        uni.hideLoading();
        _this27.setData({
          shopCartlist: res.data.data });

        _this27.disposeData();
      } else {
        uni.showToast({
          title: res.data.msg,
          icon: 'none' });

      }
    });
  }), _defineProperty(_methods, "surexf1", function surexf1()


  {
    var jsonData = {
      marchantId: this.listItem.marchantId,
      orderType: this.orderType,
      commoditys: [] };

    this.listItem.commoditys.forEach(function (el) {
      jsonData.commoditys.push({
        commodityId: el.commodityId,
        tempSpecId: el.tempSpecId,
        amount: el.amount });

    });
    console.log(jsonData); // 使用社交token

    var token = uni.getStorageSync('token');
    uni.showLoading({
      title: '结算中' });

    app.globalData.sjrequest1('/order/onekeyAboutOrder', jsonData, token).then(function (res) {
      uni.hideLoading();

      if (res.data.code === 200) {
        // 更新 store 数据
        app.globalData.store.setState({
          submitObj: JSON.stringify(res.data.data) });

        uni.navigateTo({
          url: '/pages/order/submitOrder/submitOrder' });

      } else {
        uni.hideLoading();
        uni.showToast({
          title: res.data.msg,
          icon: 'none' });

      }
    });
  }), _defineProperty(_methods, "handleGoSettlement", function handleGoSettlement(


  e, _dataset) {
    /* ---处理dataset begin--- */
    this.datasetHandle(e, _dataset);
    /* ---处理dataset end--- */
    var pi = e.currentTarget.dataset.pi;
    console.log('去结算', pi); // if (!this.data.list[pi].isSelect) {
    // Toast('未选中对于的商品!')
    // console.log(this.data.list[pi])
    // } else {

    var isSelect = false;
    this.shopCartlist[pi].commoditys.forEach(function (el) {
      if (el.isPitch) {
        isSelect = true;
      }
    });

    if (isSelect) {
      var arr = [];
      this.shopCartlist[pi].commoditys.forEach(function (el) {
        if (el.isPitch) {
          arr.push(el);
        }
      });
      var listItem = _objectSpread(_objectSpread({}, this.shopCartlist[pi]), {}, { commoditys: arr });
      console.log(listItem);
      this.setData({
        openOverlay: true,
        listItem: listItem });

      this.surexf1();
    } else {
      Toast('未选中对应的商品!');
    } // }
  }), _defineProperty(_methods, "toGoodsdetail", function toGoodsdetail(


  e) {
    uni.navigateTo({
      url: '/pages/Index/GoodsDetails/GoodsDetails?id=' + e.currentTarget.dataset.commodityid });

  }), _defineProperty(_methods, "toStore", function toStore(

  e) {
    uni.navigateTo({
      url: '/pages/shopHome/home/home?marchantId=' + e.currentTarget.dataset.marchantid });

  }), _defineProperty(_methods, "changeCartInfo", function changeCartInfo(


  storeIndex, goodsIndex) {
    var that = this;
    var params = this.shopCartlist[storeIndex].commoditys[goodsIndex];
    var data = {
      tempSpecId: params.tempSpecId,
      commodityId: params.commodityId,
      marchantId: params.marchantId,
      amount: params.amount,
      operate: 3 };

    app.globalData.sjrequest('/commodity/addTrolley', data).then(function (res) {
      if (res.data.code == 200) {
        that.getCartData();
      }
    });
  }), _defineProperty(_methods, "handleEditNum", function handleEditNum(


  e) {
    console.log(e);
    var pi = e.currentTarget.dataset.pi;
    var ci = e.currentTarget.dataset.ci;
    var type = e.currentTarget.dataset.type;
    var goodItem = 'shopCartlist[' + pi + '].commoditys[' + ci + '].amount';

    if (type === 'add') {
      if (this.shopCartlist[pi].commoditys[ci].amount === this.shopCartlist[pi].commoditys[ci].inventory) {
        Toast('该宝贝不能购买更多哦');
      } else {
        this.shopCartlist[pi].commoditys[ci].amount = this.shopCartlist[pi].commoditys[ci].amount + 1;
      }
    } else if (type === 'minus') {
      // 减一
      if (this.shopCartlist[pi].commoditys[ci].amount === 1) {
        this.shopCartlist[pi].commoditys[ci].amount = 1;
      } else {
        this.shopCartlist[pi].commoditys[ci].amount = this.shopCartlist[pi].commoditys[ci].amount - 1;
      }
    } else {
      // 编辑
      this.setData({
        'editObj.pi': pi,
        'editObj.ci': ci,
        value: this.shopCartlist[pi].commoditys[ci].amount,
        show1: true });

    }

    this.changeCartInfo(pi, ci);
  }), _defineProperty(_methods, "handleInput", function handleInput(


  e) {
    if (e.detail.value != '') {
      var value = this.validateNumber(e.detail.value);
      this.setData({
        value: parseInt(value) });

    }
  }), _defineProperty(_methods, "validateNumber", function validateNumber(


  val) {
    return val.replace(/^(0+)|[^\d]+/g, '');
  }), _defineProperty(_methods, "confirm", function confirm(


  e) {
    if (this.value > this.shopCartlist[this.editObj.pi].commoditys[this.editObj.ci].inventory) {
      Toast('该宝贝不能购买更多哦');
    } else {
      var goodItem = 'shopCartlist[' + this.editObj.pi + '].commoditys[' + this.editObj.ci + '].amount';
      this.shopCartlist[this.editObj.pi].commoditys[this.editObj.ci].amount = this.value;
      this.changeCartInfo(this.editObj.pi, this.editObj.ci);
    }
  }), _defineProperty(_methods, "onClose", function onClose()


  {
    this.setData({
      close: false });

  }), _defineProperty(_methods, "deleteFun", function deleteFun()


  {var _this28 = this;
    var postIds = [];
    this.shopCartlist.forEach(function (el) {
      el.commoditys.forEach(function (it) {
        if (it.isPitch) {
          postIds.push(it.trolleyId);
        }
      });
    });

    if (postIds.length) {
      Dialog.alert({
        title: '提示',
        message: '确认将宝贝删除',
        showCancelButton: true,
        cancelButtonText: '我再想想',
        confirmButtonText: '删除' }).
      then(function () {
        var postDatas = {
          trolleyIds: postIds.join(',') };
        // 使用社交token

        var token = uni.getStorageSync('token');
        app.globalData.sjrequest('/commodity/deleteTrolley', postDatas, token).then(function (res) {
          if (res.data.code === 200) {
            _this28.getCartData();
          }
        });
      });
    } else {
      uni.showToast({
        title: '您还没择宝贝哦！',
        icon: 'none' });

    }

    this.disposeData();
  }), _defineProperty(_methods, "handleGoodItemSelect", function handleGoodItemSelect(


  e) {var _this29 = this;
    var pid = e.currentTarget.dataset.pid;
    var cid = e.currentTarget.dataset.cid;
    var isPitch;
    var trolleyId;
    trolleyId = this.shopCartlist[pid].commoditys[cid].trolleyId;

    if (this.shopCartlist[pid].commoditys[cid].isPitch == 0) {
      isPitch = 1;
    }

    if (this.shopCartlist[pid].commoditys[cid].isPitch == 1) {
      isPitch = 0;
    }

    var data = [
    {
      trolleyId: trolleyId,
      isPitch: isPitch }];


    app.globalData.sjrequest1('/commodity/operatorIsPitch', data).then(function (res) {
      _this29.getCartData();
    });
    this.disposeData();
  }), _defineProperty(_methods, "handleGoodsSelect", function handleGoodsSelect(


  e) {var _this30 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee3() {var pid, commoditys, data;return _regenerator.default.wrap(function _callee3$(_context3) {while (1) {switch (_context3.prev = _context3.next) {case 0:
              pid = e.currentTarget.dataset.pid;
              commoditys = _this30.shopCartlist[pid].commoditys;
              data = [];

              if (_this30.shopCartlist[pid].isSelect) {
                commoditys.forEach(function (item) {
                  data.push({
                    trolleyId: item.trolleyId,
                    isPitch: 0 });

                });
              } else {
                commoditys.forEach(function (item) {
                  data.push({
                    trolleyId: item.trolleyId,
                    isPitch: 1 });

                });
              }

              app.globalData.sjrequest1('/commodity/operatorIsPitch', data).then(function (res) {
                var token = uni.getStorageSync('token');
                var data =
                _this30.marchantId == -1 ?
                {} :
                {
                  marchantId: _this30.marchantId };

                app.globalData.sjrequest('/commodity/queryTrolleyList', data, token).then(function (res) {
                  if (res.data.code === 200) {
                    var listItem = 'shopCartlist[' + pid + '].isSelect';
                    _this30.shopCartlist[pid].isSelect = !_this30.shopCartlist[pid].isSelect;
                    _this30.setData({
                      shopCartlist: res.data.data });

                    _this30.disposeData();
                  }
                });
              });case 5:case "end":return _context3.stop();}}}, _callee3);}))();
  }), _defineProperty(_methods, "selectAll", function selectAll()


  {var _this31 = this;
    var arr = this.shopCartlist;
    var data = [];

    if (this.isAll) {
      arr.forEach(function (el, i) {
        el.list.forEach(function (it, ind) {
          var listItem = 'shopCartlist[' + i + '].isSelect';
          data.push({
            trolleyId: it.trolleyId,
            isPitch: 0 });

          _this31.shopCartlist[i].isSelect = true;
        });
      });
    } else {
      arr.forEach(function (el, i) {
        el.commoditys.forEach(function (it, ind) {
          var listItem = 'shopCartlist[' + i + '].isSelect';
          data.push({
            trolleyId: it.trolleyId,
            isPitch: 1 });

          _this31.shopCartlist[i].isSelect = true;
        });
      });
    }

    app.globalData.sjrequest1('/commodity/operatorIsPitch', data).then(function (res) {
      var token = uni.getStorageSync('token');
      var data =
      _this31.marchantId == -1 ?
      {} :
      {
        marchantId: _this31.marchantId };

      app.globalData.sjrequest('/commodity/queryTrolleyList', data, token).then(function (res) {
        console.log(res);

        if (res.data.code === 200) {
          _this31.setData({
            shopCartlist: res.data.data,
            isAll: !_this31.isAll });

          _this31.disposeData();
        }
      });
    });
  }), _defineProperty(_methods, "disposeData", function disposeData()


  {var _this32 = this;
    var arr = this.shopCartlist;
    var allSelect = true;

    if (arr.length == 0) {
      allSelect = false;
    }

    arr.forEach(function (el, i) {
      var listItem = 'shopCartlist[' + i + '].hj';
      var listItemSelect = 'shopCartlist[' + i + '].isSelect';
      var num = 0;
      var isSelet = true;
      el.commoditys.forEach(function (it, idx) {
        if (it.isPitch) {
          num += it.originalPrice * it.amount * 100;
        } else {
          isSelet = false;
          allSelect = false;
        }
      });
      _this32.shopCartlist[i].isSelect = isSelet;
      _this32.shopCartlist[i].hj = num / 100;
    });
    this.setData({
      isAll: allSelect });
    // if (allSelect) {
    //     this.setData({
    //         isAll: true
    //     })
    // } else {
    //     this.setData({
    //         isAll: false
    //     })
    // }
  }), _defineProperty(_methods, "scrollParev", function scrollParev(

  e) {
    var that = this;
    clearTimeout(this.queryTime);
    this.queryTime = setTimeout(function () {
      console.log(e.detail.isFixed);
      that.setData({
        isFixed: e.detail.isFixed });

    }, 100);
  }), _defineProperty(_methods, "getVideoList", function getVideoList()


  {var _this33 = this;
    var data = {
      marchantId: this.marchantId };

    return app.globalData.sjrequest('/commodity/queryVideoCommodityList', data).then(function (res) {
      if (res.data.code == 200) {
        uni.hideLoading();
        var list = [];

        if (res.data.data.length) {
          res.data.data.forEach(function (item, index) {
            list.push({
              id: index,
              url: item.videoUrl });

          });
          _this33.setData({
            videoList: list,
            hotSaleGoodsList: res.data.data,
            nowSaleGoods: res.data.data[0] });

        }
      } else {
        uni.showToast({
          title: res.data.msg,
          icon: 'none' });

      }
    });
  }), _defineProperty(_methods, "toBuy", function toBuy(

  e) {
    uni.navigateTo({
      url: "/pages/Index/GoodsDetails/GoodsDetails?id=".concat(e.currentTarget.dataset.id) });

  }), _defineProperty(_methods, "bindchange", function bindchange(


  e) {
    console.log(e.detail);
    this.setData({
      nowSaleGoods: this.hotSaleGoodsList[e.detail.activeId] });

  }), _defineProperty(_methods, "parseRecommendEvent", function parseRecommendEvent(


  e) {
    console.log(e);
    var eventType = e.eventType;

    if (eventType == 'addCart') {
      this.addCart({
        item: e.goodsInfo });

    }
  }), _defineProperty(_methods, "validate", function validate()

  {
    console.log('占位：函数 validate 未声明');
  }), _methods) };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 342:
/*!*********************************************************************************************!*\
  !*** D:/products/xssj_New_basic_uni/pages/Index/Index.vue?vue&type=style&index=0&lang=css& ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Index.vue?vue&type=style&index=0&lang=css& */ 343);
/* harmony import */ var _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_Index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 343:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/products/xssj_New_basic_uni/pages/Index/Index.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

},[[336,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/Index/Index.js.map