(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/Index/GoodsDetails/GoodsDetails"],{

/***/ 344:
/*!*****************************************************************************************************!*\
  !*** D:/products/xssj_New_basic_uni/main.js?{"page":"pages%2FIndex%2FGoodsDetails%2FGoodsDetails"} ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 5);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 4));
var _GoodsDetails = _interopRequireDefault(__webpack_require__(/*! ./pages/Index/GoodsDetails/GoodsDetails.vue */ 345));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;
createPage(_GoodsDetails.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 345:
/*!********************************************************************************!*\
  !*** D:/products/xssj_New_basic_uni/pages/Index/GoodsDetails/GoodsDetails.vue ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _GoodsDetails_vue_vue_type_template_id_2d292ba9___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GoodsDetails.vue?vue&type=template&id=2d292ba9& */ 346);
/* harmony import */ var _GoodsDetails_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GoodsDetails.vue?vue&type=script&lang=js& */ 348);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _GoodsDetails_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _GoodsDetails_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _GoodsDetails_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GoodsDetails.vue?vue&type=style&index=0&lang=css& */ 350);
/* harmony import */ var _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 14);

var renderjs





/* normalize component */

var component = Object(_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _GoodsDetails_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _GoodsDetails_vue_vue_type_template_id_2d292ba9___WEBPACK_IMPORTED_MODULE_0__["render"],
  _GoodsDetails_vue_vue_type_template_id_2d292ba9___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _GoodsDetails_vue_vue_type_template_id_2d292ba9___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pages/Index/GoodsDetails/GoodsDetails.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 346:
/*!***************************************************************************************************************!*\
  !*** D:/products/xssj_New_basic_uni/pages/Index/GoodsDetails/GoodsDetails.vue?vue&type=template&id=2d292ba9& ***!
  \***************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_template_id_2d292ba9___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./GoodsDetails.vue?vue&type=template&id=2d292ba9& */ 347);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_template_id_2d292ba9___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_template_id_2d292ba9___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_template_id_2d292ba9___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_template_id_2d292ba9___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 347:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/products/xssj_New_basic_uni/pages/Index/GoodsDetails/GoodsDetails.vue?vue&type=template&id=2d292ba9& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 348:
/*!*********************************************************************************************************!*\
  !*** D:/products/xssj_New_basic_uni/pages/Index/GoodsDetails/GoodsDetails.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./GoodsDetails.vue?vue&type=script&lang=js& */ 349);
/* harmony import */ var _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 349:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/products/xssj_New_basic_uni/pages/Index/GoodsDetails/GoodsDetails.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _regenerator = _interopRequireDefault(__webpack_require__(/*! ./node_modules/@babel/runtime/regenerator */ 24));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {Promise.resolve(value).then(_next, _throw);}}function _asyncToGenerator(fn) {return function () {var self = this,args = arguments;return new Promise(function (resolve, reject) {var gen = fn.apply(self, args);function _next(value) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);}function _throw(err) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);}_next(undefined);});};}var storeClose = function storeClose() {__webpack_require__.e(/*! require.ensure | pages/Component/storeClose/index */ "pages/Component/storeClose/index").then((function () {return resolve(__webpack_require__(/*! @/pages/Component/storeClose/index */ 1469));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};




































































































































































































































































































































































































































































































































































































































































// pages/GoodsDetails/GoodsDetails.js
var time = __webpack_require__(/*! ../../../utils/util */ 28);

var app = getApp();var _default =
{
  components: {
    // vanStepper,
    // vanOverlay,
    // vanPopup,
    // vanGoodsAction,
    // vanGoodsActionIcon,
    // vanGoodsActionButton,
    // vanSticky,
    // vanCountDown,
    // vanIcon,
    storeClose: storeClose },

  data: function data() {
    return {
      detailData: {
        videoUrl: '',
        videoCover: '',
        imagList: [],
        remainingTime: '',
        activityType: 0,
        isMember: '',
        subscribe: false,
        description: '',

        timeData: {
          days: 0,
          hours: 0,
          minutes: 0,
          seconds: 0 },


        memberLevel: {
          name: '',
          discount: 0 },


        memberSetting: {
          status: '' },


        isSetMember: '',
        arrLabels: [],
        preferences: [],
        descrList: '',
        thumbnail: '',
        skuList: [] },


      // 详情数据
      DefaultSpec: {
        originalPrice: '',
        lowPrice: '',
        itemText: '',
        imageUrl: false,
        liveStock: '',
        stock: '' },


      // 默认规格
      NickFlag: false,

      normsIndex: 0,

      //默认索引
      goodsCommentList: [],

      //评论列表
      buyNum: 1,

      personnel: '',

      // 分销标识
      saleState: '无优惠',

      //优惠状态
      shipping: {
        provincesName: '',
        cityName: '',
        areaName: '',
        address: '' },


      // 地址
      recommendGoodsList: [],

      // 为你推荐
      openOverlay: false,

      isClose: false,

      // 是否关店
      index: 1,

      status: 1,
      activityId: 0,

      // 小店id
      scene: {},

      agentUserId: '',
      tempSpecId: 0,
      showShare: false,
      showCountDown: false,

      // 是否限时抢购
      isEnd: false,

      buton: false,

      // 是否登录
      fromShop: false,

      // 是否从小店进入
      isShare: false,

      // 是否分享进入
      salesUserId: 0,

      showSale: false,
      showSpec: false,
      showXS: false,
      isLike: false,
      receivedSale: true,

      //是否领取了优惠券
      goodsId: -1,

      marchantId: 0,
      orderType: 0,
      saleCanList: [],
      haveToStore: false,
      haveWuliu: false,
      haveTongCheng: false,
      specType: 0,

      // 1 规格  2 购物车  3 立即购买
      reserve: '',

      city: '',
      formpage: '',
      nocityFlag: false,
      orderSwitch: null,
      memberShow: 0,
      appWidth: 0,

      shopInfo: {
        merchant: {
          address: '',
          logoPic: '' },


        appletInfo: {
          nickName: '',
          signature: '' } },



      codeUserInfo: {},

      //code接口返回的用户信息
      userPhone: '',

      //用户手机号
      showHideStyle: '',

      //控制浏览用户显示隐藏样式 'show-bur'显示 'hide-bur'隐藏
      subscriptIndex: 0,

      //
      browseUser: [],

      countTrolley: '',
      labelList: '',
      isAuthorization: false,
      sindex: 0,
      iitem: '',

      skuitem: {
        id: '',
        imageUrl: '',
        thumbnail: '',
        itemText: '' },


      detailInfo: {
        commodityName: '' },


      headUrl: '',
      nickName: '',
      humanize: '' };

  },
  /**
      * 生命周期函数--监听页面加载
      */
  onLoad: function onLoad(options) {
    this.onLoadClone3389(options);
  },
  /**
      * 生命周期函数--监听页面初次渲染完成
      */
  onReady: function onReady() {var _this = this;
    uni.getStorage({
      key: 'zl_userInfo',
      success: function success(res) {
        var info = res.data;
        var phone = '';

        if (info.statusCode == 200 && info.data.code == 200) {
          phone = info.data.data.phoneNumber;
        }

        _this.setData({
          codeUserInfo: info,
          userPhone: phone });

      } });

  },
  /**
      * 生命周期函数--监听页面显示
      */
  onShow: function onShow() {
    uni.hideHomeButton(); //隐藏返回首页按钮
  },
  /**
      * 生命周期函数--监听页面隐藏
      */
  onHide: function onHide() {},
  /**
                                 * 生命周期函数--监听页面卸载
                                 */
  onUnload: function onUnload() {
    app.globalData.options = {};
  },
  /**
      * 页面相关事件处理函数--监听用户下拉动作
      */
  onPullDownRefresh: function onPullDownRefresh() {},
  /**
                                                       * 页面上拉触底事件的处理函数
                                                       */
  onReachBottom: function onReachBottom() {},
  /**
                                               * 用户点击右上角分享
                                               */
  onShareAppMessage: function onShareAppMessage() {
    this.setData({
      showShare: false });

    uni.showShareMenu({
      withShareTicket: true,
      menus: ['shareAppMessage', 'shareTimeline'] });

    var orderType = this.city ? '&city=1' : this.reserve ? '&reserve=1' : '';
    var activityString = this.activityId ? '&activityId=' + this.activityId : '';
    var path = this.fromShop ?
    "/pages/Index/GoodsDetails/GoodsDetails?id=".concat(this.goodsId, "&sid=").concat(this.tempSpecId, "&salesUserId=").concat(this.salesUserId, "&pid=").concat(this.personnel, "&form=store&isShare=true") + "&orderSwitch=" +

    this.orderSwitch :
    "/pages/Index/GoodsDetails/GoodsDetails?id=".concat(this.goodsId, "&isShares=true") + "&orderSwitch=" + this.orderSwitch + orderType + "" + activityString;
    return {
      title: this.detailData.description,
      path: path };

  },
  onShareTimeline: function onShareTimeline() {
    var orderType = this.city ? '&city=1' : this.reserve ? '&reserve=1' : '';
    var activityString = this.activityId ? '&activityId=' + this.activityId : '';
    console.log('this.activityId:', this.activityId);
    return {
      title: this.detailData.description,
      query: this.fromShop ?
      "id=".concat(this.goodsId, "&sid=").concat(this.tempSpecId, "&salesUserId=").concat(this.salesUserId, "&pid=").concat(this.personnel, "&form=store&isShare=true") +
      activityString + "&orderSwitch=" +

      this.orderSwitch :
      "id=".concat(this.goodsId, "&isShares=true") + orderType + "&orderSwitch=" + this.orderSwitch + "" + activityString,
      imageUrl: this.detailData.imagList[0] };

  },
  methods: {
    /**
              * 生命周期函数--监听页面加载
              */
    onLoadClone3389: function () {var _onLoadClone = _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee2(options) {var _this2 = this;var scene, that;return _regenerator.default.wrap(function _callee2$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0:
                setTimeout(function () {
                  _this2.queryBrowseUser();
                }, 4000); //获取浏览用户

                this.setData({
                  memberShow: options.memberShow });


                if (options.city != '' || options.reserve != '') {
                  this.setData({
                    city: options.city,
                    reserve: options.reserve });

                }

                this.setData({
                  activityId: options.activityId });if (!(


                app.globalData.scene == '1154')) {_context2.next = 18;break;}
                //朋友圈链接进入
                app.globalData.options = options;if (!

                options.scene) {_context2.next = 12;break;}
                // 小程序码
                scene = decodeURIComponent(options.scene);_context2.next = 10;return (
                  this.getCodeParams(scene));case 10:_context2.next = 13;break;case 12:

                //  正常跳转
                this.setData({
                  isShare: options.isShare ? true : false,
                  goodsId: options.id || '',

                  //商品id
                  tempSpecId: options.sid || '',

                  //规格id
                  agentUserId: options.agentUserId || '',

                  //分销id
                  personnel: options.pid || '' });case 13:

                //查看是否授权

                that = this;
                uni.getSetting({
                  success: function success(res) {
                    if (uni.getStorageSync('wx_userinfo_key')) {
                      if (uni.getStorageSync('token')) {
                        that.setData({
                          buton: true });

                      }
                    } else {
                      // 没有授权
                      that.setData({
                        buton: false });

                    }
                  } });

                setTimeout(function () {
                  that.getParams();
                }, 200);_context2.next = 19;break;case 18:

                app.globalData.userLogin().then( /*#__PURE__*/function () {var _ref = _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee(res) {var _scene, that;return _regenerator.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:
                            res = res || {};
                            console.log('商品详情登录信息：', res);

                            if (res !== 'true') {
                              _this2.setData({
                                NickFlag: !(res.nickname || res.headimgurl),

                                //用户昵称和头像都没有的话需要授权
                                userPhone: res.phoneNumber });

                            }

                            app.globalData.options = options;if (!

                            options.scene) {_context.next = 10;break;}
                            // 小程序码
                            _scene = decodeURIComponent(options.scene);_context.next = 8;return (
                              _this2.getCodeParams(_scene));case 8:_context.next = 11;break;case 10:

                            //  正常跳转
                            _this2.setData({
                              isShare: options.isShare ? true : false,

                              // 是否分享进入
                              goodsId: options.id || '',

                              //商品id
                              tempSpecId: options.sid || '',

                              //规格id
                              agentUserId: options.agentUserId || '',

                              //分销id
                              personnel: options.pid || '' });case 11:

                            //查看是否授权

                            that = _this2;
                            uni.getSetting({
                              success: function success(res) {
                                if (uni.getStorageSync('wx_userinfo_key')) {
                                  if (uni.getStorageSync('token')) {
                                    that.setData({
                                      buton: true });

                                  }
                                } else {
                                  // 没有授权
                                  that.setData({
                                    buton: false });

                                }
                              } });

                            setTimeout(function () {
                              that.getParams();
                            }, 200);case 14:case "end":return _context.stop();}}}, _callee);}));return function (_x2) {return _ref.apply(this, arguments);};}());case 19:



                this.setData({
                  appWidth: app.globalData.getSystemInfo.screenWidth });case 20:case "end":return _context2.stop();}}}, _callee2, this);}));function onLoadClone3389(_x) {return _onLoadClone.apply(this, arguments);}return onLoadClone3389;}(),



    showDingYue: function showDingYue() {var _this3 = this;
      var that = this;
      var appid = uni.getStorageSync('appid');
      var data = {
        authorizerAppid: appid,
        sceneTypes: [5, 6] };

      app.globalData.mb2request('/subTemplate/listPriTemplateId', data).then(function (res) {
        var tempData = res.data.data;
        uni.requestSubscribeMessage({
          tmplIds: tempData,
          success: function success(res) {
            uni.getSetting({
              withSubscriptions: true,
              success: function success(result) {
                uni.showToast({
                  title: '订阅消息成功' });

                var data = {
                  status: that.status,
                  marchantId: that.marchantId,
                  templateIds: tempData,
                  appId: appid,
                  targetType: 1,
                  targetId: that.goodsId };

                app.globalData.sjrequest('/basic/addsubscription', data).then(function (res) {
                  if (res.data.code == 200) {
                    that.getParams();
                    uni.showToast({
                      title: '订阅消息成功' });

                    _this3.$emit('event', {
                      detail: true });

                  } else {
                    uni.showToast({
                      title: res.data.msg,
                      icon: 'none' });

                  }
                });
              } });

          },

          fail: function fail(e) {
            console.log(e);
            uni.showToast({
              title: '订阅消息失败,请点击右上角三个点中的设置打开消息订阅开关',
              icon: 'none' });

          } });

      });
    },

    //是否从小程序码进来
    getCodeParams: function getCodeParams(id) {
      var data = {
        id: id };

      var that = this;
      return app.globalData.sjrequest('/marchant/queryIdentifica', data).then(function (res) {
        if (res.data.code == 200) {
          that.setData({
            scene: JSON.parse(res.data.data.scene),
            goodsId: JSON.parse(res.data.data.scene).id,
            isShare: true });


          if (that.scene.pid) {
            that.setData({
              personnel: that.scene.pid });

          }

          if (that.scene.sid) {
            that.setData({
              tempSpecId: that.scene.sid });

          } // if(that.data.scene.form == 'store'){  // 来自小店
          //   this.setData({
          //     fromShop:true,
          //     activityId:that.data.scene.activityId,
          //     salesUserId:that.data.scene.salesUserId
          //   })
          // }
        }
      });
    },

    getParams: function getParams() {var _this4 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee3() {var data, that;return _regenerator.default.wrap(function _callee3$(_context3) {while (1) {switch (_context3.prev = _context3.next) {case 0:
                console.log(_this4.goodsId);
                data = {
                  commodityId: _this4.goodsId };


                if (_this4.activityId) {
                  data.activityId = _this4.activityId;
                }

                that = _this4;_context3.next = 6;return (
                  app.globalData.sjrequest('/commodity/queryCommodityInfo', data).then(function (res) {
                    if (res.data.code == 200) {
                      var resultData = res.data.data;
                      console.log(resultData, 'resultData');

                      if (resultData.isShelves == 0) {
                        _this4.setData({
                          nocityFlag: true });

                      }

                      if (resultData.salesStoreCommodity) {
                        if (resultData.salesStoreCommodity.countdown) {
                          var time1 = time.formatTimeSec(resultData.salesStoreCommodity.countdown);
                          resultData.salesStoreCommodity.countdown = new Date(time1.replace(/-/g, '/')).getTime() - new Date().getTime();
                          _this4.setData({
                            showCountDown: true,
                            isEnd: resultData.salesStoreCommodity.countdown <= 0 });

                        }
                      }

                      var orderType = resultData.marchant.businessModel.split(',').sort();
                      orderType = orderType[0];
                      _this4.setData({
                        orderType: orderType });


                      if (resultData.marchant.businessModel.indexOf(1) != -1) {
                        _this4.setData({
                          haveWuliu: true });

                      }

                      if (resultData.marchant.businessModel.indexOf(2) != -1) {
                        _this4.setData({
                          haveTongCheng: true });

                      }

                      if (resultData.marchant.businessModel.indexOf(3) != -1) {
                        _this4.setData({
                          haveToStore: true });

                      }

                      resultData.skuList.forEach(function (item, index) {
                        if (item.stock == -1) {
                          item.stock = '有货';
                        }

                        if (item.isDefault == 1) {
                          that.setData({
                            DefaultSpec: item,
                            normsIndex: index });

                        }

                        if (that.tempSpecId) {
                          if (item.id == that.tempSpecId) {
                            that.setData({
                              DefaultSpec: item,
                              normsIndex: index });

                            return;
                          }
                        }
                      });

                      if (resultData.likeState == 0) {
                        that.setData({
                          isLike: true });

                      }

                      if (resultData.commentList.length) {
                        resultData.commentList.forEach(function (item) {
                          item.addTime = time.formatTime(item.addTime);
                        });
                      }

                      if (resultData.commodityCouponsList.length) {
                        resultData.commodityCouponsList.forEach(function (item) {
                          item.endTime = time.formatTimeSec(item.endTime);
                        });
                      }

                      that.setData({
                        isEnd: resultData.remainingTime == 0,
                        detailData: resultData,
                        marchantId: resultData.marchantId,
                        shipping: resultData.shipping || {},
                        countTrolley: resultData.countTrolley,
                        goodsCommentList: resultData.commentList,
                        saleCanList: resultData.commodityCouponsList,
                        orderSwitch: resultData.marchant.orderSwitch });


                      if (that.saleCanList.length) {
                        that.setData({
                          saleState: '已领券' });

                        that.saleCanList.forEach(function (item) {
                          if (item.isDraw == 0) {
                            that.setData({
                              receivedSale: false,
                              saleState: '可领券' });

                          }
                        });
                      }
                    } else if (res.data.code == 338) {
                      _this4.setData({
                        isClose: true });

                    } else {
                      uni.showToast({
                        title: res.data.msg,
                        icon: 'none' });

                    }

                    that.getLabelList();
                  }));case 6:

                if (!that.fromShop) {
                  _this4.queryRecommendList();
                  _this4.getShopInfo();
                }case 7:case "end":return _context3.stop();}}}, _callee3);}))();
    },

    queryRecommendList: function queryRecommendList() {var _this5 = this;
      var data = {
        marchantId: this.detailData.marchantId,
        commodityId: this.detailData.commodityId };

      app.globalData.sjrequest('/commodity/queryRecommendList', data).then(function (res) {
        if (res.data.code == 200) {
          // if(res.data.data.length>4){
          //   res.data.data.splice(4)
          // }
          _this5.setData({
            recommendGoodsList: res.data.data });

          console.log('推荐', res.data.data);
        }
      });
    },

    noActivity: function noActivity() {
      uni.showToast({
        title: '暂无活动',
        icon: 'none' });

    },

    // 返回小店
    toStore: function toStore() {
      uni.navigateTo({
        url: '/pages/smallShop/myShop/myShop?activityId=' + this.activityId });

    },

    finishedCountDown: function finishedCountDown() {
      // 倒计时结束
      this.setData({
        showCountDown: false,
        isEnd: true });

    },

    // 优惠弹框
    showSaleFun: function showSaleFun() {
      if (this.detailData.commodityCouponsList.length) {
        this.setData({
          showSale: true });

      } else {
        uni.showToast({
          title: '暂无优惠',
          icon: 'none' });

      }
    },

    closeSale: function closeSale() {
      this.setData({
        showSale: false });

    },

    receiveSale: function receiveSale() {var _this6 = this;
      if (this.receivedSale) {
        uni.showToast({
          title: '已领取优惠券',
          icon: none });

        return;
      }

      var data = {
        couponsIds: [] };

      this.saleCanList.forEach(function (item) {
        data.couponsIds.push(item.id);
      });
      data.couponsIds = data.couponsIds.toString();
      var token = uni.getStorageSync('token');
      app.globalData.sjrequest('/coupons/getCoupons', data, token).then(function (res) {
        if (res.data.code == 200) {
          _this6.saleCanList.forEach(function (item) {
            item.isDraw = 1;
          });
          _this6.setData({
            showSale: false,
            saleState: '已领券',
            receivedSale: true,
            saleCanList: _this6.saleCanList });

          uni.showToast({
            title: '领取成功',
            icon: 'none' });

        }
      });
    },

    receivedSaleFun: function receivedSaleFun() {
      uni.showToast({
        title: '已经领取过了',
        icon: 'none' });

      this.setData({
        showSale: false });

    },

    // 评论列表
    goCommentList: function goCommentList() {
      uni.navigateTo({
        url: '/pages/order/goodsCommentList/goodsCommentList?commodityId=' + this.goodsId });

    },

    // 放大图片
    zoomImg: function zoomImg(e) {var _e$currentTarget$data =
      e.currentTarget.dataset,src = _e$currentTarget$data.src,list = _e$currentTarget$data.list;
      uni.previewImage({
        current: src,
        // 当前显示图片的http链接
        urls: list // 需要预览的图片http链接列表
      });
    },

    // 评论
    toComment: function toComment(e, _dataset) {
      /* ---处理dataset begin--- */
      this.datasetHandle(e, _dataset);
      /* ---处理dataset end--- */
      var item = e.currentTarget.dataset['item'];
      app.globalData.goodsCommentDetails = item;
      uni.navigateTo({
        url: '/pages/order/goodsCommentDetails/goodsCommentDetails' });

    },

    // 点赞
    liketap: function liketap(e) {var _this7 = this;
      var id = e.currentTarget.dataset['id'];
      var index = e.currentTarget.dataset['index'];
      var data = {
        commentId: id };

      app.globalData.sjrequest('/orderComment/operationPraise', data).then(function (res) {
        var list = _this7.goodsCommentList;
        list[index].myPraise = !list[index].myPraise;

        if (list[index].myPraise) {
          list[index].praise += 1;
        } else {
          list[index].praise -= 1;
        }

        _this7.setData({
          goodsCommentList: list });

      });
    },

    /* 运费*/
    findFreightStr: function findFreightStr() {var _this8 = this;
      var data = {
        commoditySkuId: this.DefaultSpec.id,
        province: this.shipping.provincesName };

      app.globalData.sjrequest('/commodity/findFreightStr', data).then(function (res) {
        if (res.data.code == 200) {
          var freightStr = 'DefaultSpec.freightStr';
          _this8[DefaultSpec.freightStr] = res.data.data.freightStr;
        }
      });
    },

    /**选择规格 */
    selectNorms: function selectNorms(e) {
      var index = e.currentTarget.dataset.index;

      if (index == this.normsIndex) {
        return;
      }

      this.setData({
        normsIndex: index,
        buyNum: 1,
        DefaultSpec: this.detailData.skuList[index] });

    },

    // 编辑数量
    handleEdit: function handleEdit(e) {
      if (e.currentTarget.dataset.type === 'minus') {
        // 减一
        if (this.buyNum === 1) {
          uni.showToast({
            title: '数量不能少于1',
            icon: 'none' });

          return;
        } else {
          this.setData({
            buyNum: this.buyNum - 1 });

        }
      } else {
        // 加一
        this.setData({
          buyNum: this.buyNum + 1 });

      }
    },

    /**立即购买 */
    doBuy: function doBuy() {var _this9 = this;
      if (this.buyNum > this.DefaultSpec.stock) {
        uni.showToast({
          title: '库存不足',
          icon: 'none',
          duration: 2000 });

        this.setData({
          showSpec: false });

        return;
      } // if(!this.data.shipping.provincesName&&!this.data.haveToStore){
      //   this.selectAddress()
      //   return
      // }
      var
      city = this.city,reserve = this.reserve;
      var data = {
        marchantId: this.detailData.marchantId,
        orderType: city ? '2' : reserve ? '3' : '1',
        commoditys: [],
        shppingId: this.shipping.id || this.shipping.shippingId };

      data.commoditys.push({
        commodityId: this.detailData.commodityId,
        tempSpecId: this.DefaultSpec.id,
        amount: this.buyNum });

      uni.showLoading({
        title: '加载中...' });

      var token = uni.getStorageSync('token');
      app.globalData.sjrequest1('/order/onekeyAboutOrder', data, token).then(function (res) {
        if (res.data.code === 200) {
          uni.hideLoading(); // 更新 store 数据

          app.globalData.store.setState({
            submitObj: JSON.stringify(res.data.data) });

          var orderType = _this9.city ? '&orderType=2' : _this9.reserve ? '&orderType=3' : '&orderType=1';
          console.log('city:', _this9.city);
          _this9.setData({
            showSpec: false });

          uni.navigateTo({
            url:
            "/pages/order/submitOrder/submitOrder?personnel=".concat(_this9.personnel, "&salesUserId=").concat(_this9.salesUserId, "&agentUserId=").concat(_this9.agentUserId, "&activityId=").concat(_this9.activityId) +
            orderType });

        } else {
          uni.hideLoading();
          uni.showToast({
            title: res.data.msg,
            icon: 'none' });

        }
      });
    },

    /**查看商品详情 */
    showDetail: function showDetail(e) {
      var id = e.currentTarget.dataset.id;
      var otherOrder = this.city ? '&city=1' : this.reserve ? '&reserve=1' : '';
      uni.navigateTo({
        url: '../GoodsDetails/GoodsDetails?id=' + id + otherOrder });

    },

    //喜欢
    selectIsLike: function selectIsLike() {var _this10 = this;
      var state;

      if (this.detailData.likeState == 0) {
        state = 1;
      } else {
        state = 0;
      }

      var data = {
        commodityId: this.detailData.commodityId,
        state: state };

      app.globalData.sjrequest('/commodity/like', data).then(function (res) {
        _this10.setData({
          isLike: !_this10.isLike });

      });
    },

    //获取标签列表
    getLabelList: function getLabelList() {var _this11 = this;
      var data = {
        labelIntros: this.detailData.arrLabels };

      app.globalData.sjrequest('/commodity/queryLabelIntro', data).then(function (res) {
        console.log(res.data.data);
        _this11.setData({
          labelList: res.data.data });

      });
    },

    // 显示隐藏标签
    showLabel: function showLabel() {
      this.setData({
        showXS: true });

    },

    hideLabel: function hideLabel() {
      this.setData({
        showXS: false });

    },

    // 分享显示隐藏
    showShareFun: function showShareFun() {
      this.setData({
        showShare: true });

    },

    hideShare: function hideShare() {
      this.setData({
        showShare: false });

    },

    // 图片预览
    imgClick: function imgClick(e) {
      var that = this;
      var src = e.currentTarget.dataset.src;
      var imgList = e.currentTarget.dataset.list;
      uni.previewImage({
        current: src,
        urls: imgList });

    },

    // 跳转页面
    toIndex: function toIndex() {
      var that = this; // + '&personnel=' + this.data.personnel

      uni.navigateTo({
        url: '/pages/shopHome/home/home?marchantId=' + this.detailData.marchantId });

    },

    toCart: function toCart() {
      uni.navigateTo({
        url: '../ShopCart/ShopCart' });

    },

    // 选择规格
    selectSpec: function selectSpec(e, _dataset) {
      /* ---处理dataset begin--- */
      this.datasetHandle(e, _dataset);
      /* ---处理dataset end--- */
      if (this.detailData.remainingTime && !this.showCountDown) {
        //秒杀活动结束
        this.setData({
          isEnd: true });

        return;
      }

      if (e.currentTarget.dataset.type == '2' && this.reserve) {
        uni.showToast({
          title: '预订订单不可加入购物车',
          icon: 'none' });

        return;
      }

      if (e.currentTarget.dataset.type == '2' && this.city) {
        uni.showToast({
          title: '同城订单不可加入购物车',
          icon: 'none' });

        return;
      }

      this.setData({
        showSpec: true,
        specType: e.currentTarget.dataset.type });

    },

    onClose: function onClose() {
      this.setData({
        showSpec: false });

    },

    // 跳转收货地址
    selectAddress: function selectAddress() {
      app.globalData.comefrom = 'goodsDetail';
      uni.navigateTo({
        url: '/pages/Address/AddressList/AddressList' });

    },

    // 确认规格
    comfirmSpec: function comfirmSpec() {
      if (this.specType == 2) {
        this.addCart();
      }

      if (this.specType == 3) {
        this.doBuy();
      }
    },

    /** 加入购物车 */
    addCart: function addCart() {var _this12 = this;
      if (this.DefaultSpec.stock == 0) {
        uni.showToast({
          title: '暂无库存',
          icon: 'none',
          duration: 2000 });

        this.setData({
          showSpec: false });

        return;
      }

      var data = {
        tempSpecId: this.DefaultSpec.id,
        commodityId: this.DefaultSpec.commodityId,
        amount: this.buyNum,
        // 购买数量
        marchantId: this.detailData.marchantId,
        operate: 1 };

      app.globalData.sjrequest('/commodity/addTrolley', data).then(function (res) {
        if (res.data.code == 200) {
          uni.showToast({
            title: '添加成功',
            icon: 'success' });

          var ids = uni.getStorageSync('merchantId');
          app.globalData.
          sjrequest('/commodity/countTrolley', {
            marchantId: ids }).

          then(function (res) {
            _this12.setData({
              countTrolley: res.data.data.countTrolley,
              showSpec: false,
              buyNum: 1 });

          });
        }
      });
    },

    // 客服
    // toKeFu(){
    //   wx.navigateTo({
    //     url: `/pages/order/contact/contact?logoPic=${this.data.detailData.marchant.logoPic}&marchantId=${this.data.detailData.marchantId}&marchantName=${this.data.detailData.marchant.nickName}`,
    //   })
    // },
    // toBack(){
    //   if(!this.data.detailData.subscribe){
    //     var that = this
    //       let appid = wx.getStorageSync('appid')
    //       let data = {
    //           authorizerAppid:appid,
    //           sceneType:1
    //       }
    //       app.mb2request('/subTemplate/listPriTemplateId',data).then(res=>{
    //         debugger
    //           let tempData = res.data.data
    //           wx.requestSubscribeMessage({
    //               tmplIds: tempData,
    //               success: (res)=>{
    //                   wx.getSetting({
    //                       withSubscriptions: true,
    //                       success: result => {
    //                           wx.showToast({
    //                               title: '订阅消息成功',
    //                           })
    //                           let data = {
    //                               status: that.data.status,
    //                               marchantId: that.data.marchantId,
    //                               templateIds: tempData,
    //                               appId:appid
    //                           }
    //                           app.sjrequest('/basic/addsubscription', data).then(res => {
    //                               if (res.data.code == 200) {
    //                                   wx.showToast({
    //                                       title: '订阅消息成功',
    //                                   })
    //                                   this.triggerEvent && this.triggerEvent('event', true)
    //                               } else {
    //                                   wx.showToast({
    //                                       title: res.data.msg,
    //                                       icon: 'none'
    //                                   })
    //                               }
    //                           })
    //                       }
    //                   })
    //               },
    //               fail(e) {
    //                   console.log(e)
    //                   wx.showToast({
    //                       title: '订阅消息失败,请点击右上角三个点中的设置打开消息订阅开关',
    //                       icon: 'none'
    //                   })
    //               }
    //           })
    //       })
    //   }else{
    //     wx.navigateBack({
    //       delta: 0,
    //     })
    //   }
    //   var pages=getCurrentPages();
    //   var delta=0,bi=-1;
    //   for(var i=(pages.length-1);i>=0;i--){
    //     var pageItem=pages[i]; bi++;
    //     if(pageItem.route=='pages/shopHome/home/home'){
    //       delta=bi;
    //     }
    //   }
    //   if(delta){
    //     wx.navigateBack({delta});
    //   }else{
    //     // wx.navigateTo({
    //     //   url: '/pages/shopHome/home/home?marchantId=' + e.currentTarget.dataset.marchantid,
    //     // })
    //     wx.navigateTo({
    //       url: '/pages/shopHome/home/home',
    //     })
    //   }
    // },
    toBack: function toBack() {
      uni.navigateTo({
        url: '/pages/shopHome/home/home' });

    },

    closeBgNocity: function closeBgNocity() {
      uni.redirectTo({
        url: '/pages/shopHome/home/home' });

    },

    bindGetUserInfo: function bindGetUserInfo() {var _this13 = this;
      //拉起授权获取用户头像昵称信息
      uni.getUserProfile({
        lang: 'zh_CN',
        desc: '获取用户信息',
        complete: function complete(res) {
          if (res.encryptedData) {
            _this13.setData({
              isAuthorization: false });

            _this13.login(res); //同意授权
          } else {
            //拒绝授权
            setTimeout(function () {
              uni.showToast({
                title: '授权未成功',
                icon: 'none' });

            }, 1000);
          }
        } });

    },

    cancel: function cancel() {
      var pages = getCurrentPages();
      var beforePage = pages[pages.length - 2];
      uni.navigateBack({
        delta: 0,
        success: function success() {
          beforePage.onLoad(app.globalData.options);
        } });

    },

    //登录
    login: function login(userInfo) {
      var that = this;
      var encryptedData = userInfo.encryptedData;
      var iv = userInfo.iv;
      var openid = uni.getStorageSync('thirdWxOpenId');
      var appid = uni.getStorageSync('appid');
      var data = {
        appid: appid,
        openid: openid,
        encryptedData: encryptedData,
        iv: iv };

      uni.showLoading({
        title: '加载中' });

      app.globalData.sjrequest('/thirdWxLogin/auth', data).then(function (res) {
        uni.hideLoading();
        that.cancel();

        if (res.statusCode == 200 && res.data.code == 200) {
          var data = res.data.data;
          var userInfo = {
            avatarUrl: data.headimgurl,
            nickName: data.nickname };

          uni.setStorage({
            key: 'wx_userinfo_key',
            data: {
              userInfo: userInfo } });


        }

        that.setData({
          NickFlag: false });

      });
    },

    goBusinessInfo: function goBusinessInfo() {
      uni.navigateTo({
        url: '/pages/Index/BusinessInfo/BusinessInfo' });

    },

    getShopInfo: function getShopInfo() {var _this14 = this;
      var ids = this.detailData.marchantId;
      app.globalData.
      sjrequest('/marchant/subjectInfo', {
        merchantId: ids }).

      then(function (res) {
        _this14.setData({
          shopInfo: res.data.data });

        console.log('res:', res);
      });
    },

    changeTime: function changeTime(e) {
      this.detailData.timeData = e.detail;
      this.setData({
        detailData: this.detailData });

    },

    hideEndPopup: function hideEndPopup() {
      this.setData({
        isEnd: false });

    },

    viewMoreActivity: function viewMoreActivity() {
      this.setData({
        isEnd: true });

      var activityShop = 'pages/Index/saleList/saleList';
      var pages = getCurrentPages();
      var len = pages.length;
      var delta = -1;
      var isHas = false;

      for (var i = len - 1; i >= 0; i--) {
        var item = pages[i];
        delta++;

        if (item.route == activityShop) {
          isHas = true;
          break;
        }
      }

      setTimeout(function () {
        if (isHas) {
          uni.navigateBack({
            delta: delta });

        } else {
          uni.redirectTo({
            url: '/' + activityShop });

        }
      }, 0);
    },

    getPhoneNumber: function getPhoneNumber(e) {var _this15 = this;
      var detail = e.detail;
      var appid = uni.getStorageSync('appid');
      var openid = uni.getStorageSync('thirdWxOpenId');

      if (detail.iv) {var
        iv = detail.iv,encryptedData = detail.encryptedData;
        app.globalData.
        sjrequest('/thirdWxLogin/deciphering', {
          appid: appid,
          openid: openid,
          iv: iv,
          encryptedData: encryptedData }).

        then(function (res) {
          if (res.statusCode == 200 && res.data.code == 200) {
            var phone = res.data.data.phoneNumber;
            var info = _this15.codeUserInfo;

            if (info.data && info.data.data) {
              info.data.data.phoneNumber;
              uni.setStorage({
                key: 'zl_userInfo',
                data: info });

            }

            _this15.setData({
              userPhone: phone });

          }
        });
      }
    },

    queryBrowseUser: function queryBrowseUser() {var _this16 = this;
      //查询浏览用户
      var marchantId = this.marchantId,goodsId = this.goodsId;

      if (marchantId && goodsId) {
        app.globalData.
        sjrequest('/marchant/viewRecordList', {
          merchantId: this.marchantId,
          commodityId: this.goodsId }).

        then(function (res) {
          if (res.statusCode == 200 && res.data.code == 200) {
            var list = res.data.data || [];
            _this16.setData(
            {
              browseUser: list },

            function () {
              _this16.showBrowseUser();
            });

          }
        }).
        catch(function (err) {});
      } else {
        setTimeout(function () {
          _this16.queryBrowseUser();
        }, 10000);
      }
    },

    _parseDate: function _parseDate(str, resType) {
      //resType 取值 'object' | 'number'
      str = str || '';
      var a = str.split(/[^0-9]+/);
      var date = new Date(a[0], a[1] - 1, a[2], a[3] || 0, a[4] || 0, a[5] || 0);
      return resType == 'number' ? date.getTime() : date;
    },

    _omputedDate: function _omputedDate(dateStr) {
      //计算事件发生距离当前的时间
      var createDate = this._parseDate(dateStr, 'number');

      var nowDate = new Date().getTime();
      var milliseconds = nowDate - createDate;
      var UNITS = {
        年: 31557600000,
        月: 2629800000,
        天: 86400000,
        小时: 3600000,
        分钟: 60000,
        秒: 1000 };

      var humanize = '';

      for (var key in UNITS) {
        if (milliseconds >= UNITS[key]) {
          humanize = Math.floor(milliseconds / UNITS[key]) + key + '前';
          break;
        }
      }

      return humanize || '刚刚';
    },

    showBrowseUser: function showBrowseUser() {var _this17 = this;
      //展示浏览用户
      var subscriptIndex = this.subscriptIndex;
      var browseUser = this.browseUser;

      if (subscriptIndex == browseUser.length) {
        setTimeout(function () {
          _this17.setData(
          {
            subscriptIndex: 0,
            browseUser: [] },

          function () {
            _this17.queryBrowseUser();
          });

        }, 30000);
      } else {
        var itemUser = browseUser[subscriptIndex];

        var humanize = this._omputedDate(itemUser.createTime);

        itemUser.humanize = humanize;
        this.setData(
        {
          showHideStyle: 'show-bur',
          browseUser: browseUser },

        function () {
          setTimeout(function () {
            _this17.setData({
              showHideStyle: 'hide-bur' });

            setTimeout(function () {
              subscriptIndex += 1;
              _this17.setData(
              {
                showHideStyle: '',
                subscriptIndex: subscriptIndex },

              function () {
                setTimeout(function () {
                  _this17.showBrowseUser();
                }, 1000);
              });

            }, 1000);
          }, 4000);
        });

      }
    },

    swiperChange: function swiperChange(e) {
      var current = e.detail.current;
      var videoUrl = this.detailData.videoUrl;

      if (videoUrl) {
        var videoContext = uni.createVideoContext('swiperVideo');

        if (current == 0) {
          // videoContext.play();
        } else {
          videoContext.pause();
        }
      }
    },

    toKeFu: function toKeFu() {
      console.log('占位：函数 toKeFu 未声明');
    },

    selectSale: function selectSale() {
      console.log('占位：函数 selectSale 未声明');
    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 350:
/*!*****************************************************************************************************************!*\
  !*** D:/products/xssj_New_basic_uni/pages/Index/GoodsDetails/GoodsDetails.vue?vue&type=style&index=0&lang=css& ***!
  \*****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./GoodsDetails.vue?vue&type=style&index=0&lang=css& */ 351);
/* harmony import */ var _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _hbuild_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_hbuild_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_GoodsDetails_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 351:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/products/xssj_New_basic_uni/pages/Index/GoodsDetails/GoodsDetails.vue?vue&type=style&index=0&lang=css& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

},[[344,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/Index/GoodsDetails/GoodsDetails.js.map