{"version":3,"sources":["uni-app:///main.js","webpack:///D:/products/xssj_New_basic_uni/pages/Index/dynamic/storeDynamicDetails/storeDynamicDetails.vue?15cb","webpack:///D:/products/xssj_New_basic_uni/pages/Index/dynamic/storeDynamicDetails/storeDynamicDetails.vue?e58d","webpack:///D:/products/xssj_New_basic_uni/pages/Index/dynamic/storeDynamicDetails/storeDynamicDetails.vue?81d0","webpack:///D:/products/xssj_New_basic_uni/pages/Index/dynamic/storeDynamicDetails/storeDynamicDetails.vue?710d","uni-app:///pages/Index/dynamic/storeDynamicDetails/storeDynamicDetails.vue","webpack:///D:/products/xssj_New_basic_uni/pages/Index/dynamic/storeDynamicDetails/storeDynamicDetails.vue?6f4c","webpack:///D:/products/xssj_New_basic_uni/pages/Index/dynamic/storeDynamicDetails/storeDynamicDetails.vue?bebc"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/Index/dynamic/storeDynamicDetails/storeDynamicDetails.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/Index/dynamic/storeDynamicDetails/storeDynamicDetails.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./storeDynamicDetails.vue?vue&type=template&id=0a66e823&\"\nvar renderjs\nimport script from \"./storeDynamicDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./storeDynamicDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./storeDynamicDetails.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/Index/dynamic/storeDynamicDetails/storeDynamicDetails.vue\"\nexport default component.exports","export * from \"-!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./storeDynamicDetails.vue?vue&type=template&id=0a66e823&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./storeDynamicDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./storeDynamicDetails.vue?vue&type=script&lang=js&\"","<template>\n    <view>\n        <!-- 推荐酒店 -->\n        <!-- <hotel wx:if=\"{{hotelList.length}}\" hotelList=\"{{hotelList}}\"></hotel> -->\n\n        <view class=\"store-danamic-item\">\n            <view class=\"store-danamic-content\">\n                <view class=\"store-info-box\">\n                    <image class=\"store-dynamic-logo\" :src=\"dynamicData.userInfo.logoPic\"></image>\n                    <view class=\"store-dynamic-box-info\">\n                        <view class=\"store-dynamic-name\">{{ dynamicData.userInfo.nickname }}</view>\n                        <view class=\"store-dynamic-time\">{{ dynamicData.addTime }}</view>\n                    </view>\n                    <view\n                        class=\"dingyue-btn\"\n                        @tap.stop.prevent=\"parseEventDynamicCode($event, subscribe ? '' : 'showDingYue')\"\n                        :style=\"subscribe ? 'background-color:#e4e4e4;color:#FFF' : ''\"\n                    >\n                        {{ subscribe ? '已订阅' : '+订阅' }}\n                    </view>\n                </view>\n                <view class=\"store-dynamic-text\">{{ dynamicData.content }}</view>\n                <view class=\"store-dynamic-img-list\">\n                    <image\n                        :class=\"dynamicData.commodity ? 'store-dynamic-img' : 'store-dynamic-img store-dynamic-big-img'\"\n                        @tap.stop.prevent=\"imgClick\"\n                        :data-list=\"dynamicData.imagList\"\n                        :data-src=\"pitem\"\n                        mode=\"aspectFill\"\n                        :src=\"pitem\"\n                        v-if=\"!((!dynamicData.commodity && index >= 1) || (dynamicData.commodity && index >= 2))\"\n                        v-for=\"(pitem, index) in dynamicData.imagList\"\n                        :key=\"index\"\n                    >\n                        <view class=\"store-dynamic-img-more\" v-if=\"!((dynamicData.commodity && index != 1) || (!dynamicData.commodity && index != 0))\">\n                            +{{ dynamicData.commodity ? dynamicData.imagList.length - 2 : dynamicData.imagList.length - 1 }}\n                        </view>\n                    </image>\n                </view>\n                <!-- 商品信息 -->\n                <view class=\"dynamic-goods-container\" v-if=\"dynamicData.commodity\" @tap.stop.prevent=\"toBuy\" :data-id=\"dynamicData.commodity.id\">\n                    <image :src=\"dynamicData.commodity.thumbnail\" class=\"dynamic-goods-container-img\" mode=\"aspecFill\"></image>\n                    <view class=\"dynamic-goods-container-content\">\n                        <view class=\"dynamic-goods-container-name\">{{ dynamicData.commodity.commodityName }}</view>\n                        <view class=\"dynamic-goods-container-text\">{{ dynamicData.commodity.description }}</view>\n                        <view class=\"dynamic-goods-bottom\">\n                            <view class=\"dynamic-goods-container-price\">\n                                <text style=\"font-size: 22rpx\">￥</text>\n                                {{\n                                    dynamicData.commodity.activityType == 1 || (dynamicData.commodity.activityType == 2 && dynamicData.commodity.isMember)\n                                        ? dynamicData.commodity.lowPrice\n                                        : dynamicData.commodity.originalPrice\n                                }}\n                            </view>\n                            <view class=\"dynamic-goods-container-btn\">购买商品</view>\n                        </view>\n                    </view>\n                </view>\n            </view>\n        </view>\n        <!-- 评论 commentDataList.length -->\n        <view class=\"comment-container\" v-if=\"false\">\n            <view class=\"comment-title\">全部评论</view>\n            <view class=\"comment-item\" v-for=\"(item, index) in commentDataList\" :key=\"index\">\n                <image class=\"comment-user-img\" :src=\"item.userInfo.headimgurl\"></image>\n\n                <view class=\"comment-content\">\n                    <view class=\"comment-top-info\">\n                        <view class=\"comment-top-left\">\n                            <view class=\"comment-name\">{{ item.userName }}</view>\n                            <!-- <image class=\"member-img\" src=\"/pages/img/index/member_icon.png\"></image> -->\n                        </view>\n                        <view class=\"comment-top-left\">\n                            <view>{{ item.addTime }}</view>\n                            <!-- <view class=\"user-info-solid\"></view>\n            <image class=\"user-info-icon\" src=\"{{item.isPraise?'/pages/img/index/dynamic/praised.png':'/pages/img/index/dynamic/praise.png'}}\"  bindtap=\"operationPraise\" data-id=\"{{item.id}}\" data-idx=\"{{index}}\"></image> -->\n                        </view>\n                    </view>\n                    <view class=\"user-signature\">{{ item.userInfo.signature || ' 暂无个性签名' }}</view>\n                    <view class=\"user-commnet-text\">{{ item.content }}</view>\n                    <!-- <view class=\"store-reply\">{{}}</view> -->\n                </view>\n            </view>\n        </view>\n\n        <!-- 底部 -->\n        <!-- <view class=\"store-dynamic-bottom\">\n    <view class=\"store-dynamic-bottom-item\" catchtap=\"{{subscribe?'':'showDingYue'}}\">\n      <image class=\"store-dynamic-bottom-item-icon\" src=\"{{subscribe?'/pages/img/index/dynamic/dingyued.png':'/pages/img/index/dynamic/dingyue.png'}}\"></image>\n    </view>\n    <view class=\"store-dynamic-bottom-item\" bindtap=\"commentFocus\">\n      <image class=\"store-dynamic-bottom-item-icon\" src=\"/pages/img/index/dynamic/comment.png\"></image>\n      <view class=\"comment-number\" wx:if=\"{{dynamicData.reply>0}}\">{{dynamicData.reply>99?99:dynamicData.reply}}</view>\n    </view>\n    <view class=\"store-dynamic-bottom-item\" catchtap=\"operationPraise\" data-id=\"{{dynamicData.id}}\">\n      <view class=\"parise-box\">\n        <image class=\"store-dynamic-bottom-item-icon\" src=\"{{dynamicData.isPraise?'/pages/img/index/dynamic/praised1.png':'/pages/img/index/dynamic/praise1.png'}}\"></image>\n        <text>{{dynamicData.praise||'点赞'}}</text>\n      </view>\n    </view>\n  </view> -->\n\n        <!-- 输入框 -->\n        <view class=\"input-container\" :style=\"'bottom:' + inputHeight + 'px'\" v-if=\"isFocus\">\n            <textarea\n                class=\"input-text\"\n                :show-confirm-bar=\"false\"\n                :value=\"content\"\n                @input=\"inputContent\"\n                maxlength=\"80\"\n                placeholder=\"我来聊几句\"\n                :auto-height=\"false\"\n                :auto-focus=\"isFocus\"\n                :adjust-position=\"false\"\n                @confirm=\"releaseComment\"\n                confirm-type=\"send\"\n                @focus=\"inputFocus\"\n                @blur=\"inputBlur\"\n            ></textarea>\n            <view class=\"confirm-btn\" @tap=\"parseEventDynamicCode($event, content.length ? 'releaseComment' : '')\" :style=\"content.length ? '' : 'background-color:#FFD1C1'\">\n                发表\n            </view>\n        </view>\n        <!-- <view class=\"bottom\" style=\"bottom:{{inputHeight}}px\">\n  <input bindinput=\"inputContent\" value=\"{{content}}\" adjust-position=\"{{false}}\" maxlength=\"50\" bindconfirm=\"releaseComment\" confirm-type=\"send\" bindfocus=\"inputFocus\" bindblur=\"inputBlur\"\n/>\n  <view class=\"bottom_right\" bindtap=\"releaseComment\">\n    <image src=\"/pages/img/index/dynamic_icon_3.png\" mode=\"aspectFill\" ></image>\n    <view>发布</view>\n  </view>\n</view> -->\n    </view>\n</template>\n\n<script>\nimport hotel from '@/pages/Index/components/hotel/index';\nconst app = getApp();\n\nconst time = require('../../../../utils/util');\n\nexport default {\n    components: {\n        hotel\n    },\n    data() {\n        return {\n            dynamicData: {\n                userInfo: {\n                    logoPic: '',\n                    nickname: ''\n                },\n\n                addTime: '',\n                content: '',\n                commodity: false,\n                imagList: ''\n            },\n\n            commentDataList: [],\n\n            // 评论列表\n            content: '',\n\n            isFocus: false,\n            subscribe: 0,\n            hotelList: [],\n            inputHeight: 0,\n            pitem: ''\n        };\n    },\n    /**\n     * 生命周期函数--监听页面加载\n     */\n    onLoad: async function (options) {\n        if (options.isFocus) {\n            this.setData({\n                isFocus: true\n            });\n        }\n\n        await this.getCommunityList(options.id);\n        this.getCommentInfo();\n    },\n    /**\n     * 生命周期函数--监听页面初次渲染完成\n     */\n    onReady: function () {},\n    /**\n     * 生命周期函数--监听页面显示\n     */\n    onShow: function () {},\n    /**\n     * 生命周期函数--监听页面隐藏\n     */\n    onHide: function () {},\n    /**\n     * 生命周期函数--监听页面卸载\n     */\n    onUnload: function () {},\n    /**\n     * 页面相关事件处理函数--监听用户下拉动作\n     */\n    onPullDownRefresh: function () {},\n    /**\n     * 页面上拉触底事件的处理函数\n     */\n    onReachBottom: function () {},\n    /**\n     * 用户点击右上角分享\n     */ methods: {\n        // 获取订阅通知列表\n        getCommunityList(id) {\n            let data = {\n                stick: 3,\n                commentId: id\n            };\n            return app.globalData.sjrequest('/marchant/queryMarchantComment', data).then((res) => {\n                if (res.data.code == 200) {\n                    res.data.data[0].addTime = time.formatTime(res.data.data[0].addTime);\n\n                    if (res.data.data[0].marchantCorrelationList.length) {\n                        var hotelList = [];\n                        res.data.data[0].marchantCorrelationList.forEach((item) => {\n                            if (item.marchantCorrelation.source == 2) {\n                                hotelList.push(item);\n                            }\n                        });\n                    }\n\n                    this.setData({\n                        dynamicData: res.data.data[0],\n                        subscribe: res.data.data[0].userInfo.subscribe,\n                        hotelList: hotelList\n                    });\n                }\n            });\n        },\n\n        showDingYue() {\n            // 获取用户信息\n            var that = this;\n            let appid = uni.getStorageSync('appid');\n            let data = {\n                authorizerAppid: appid,\n                sceneType: 4\n            };\n            app.globalData.mb2request('/subTemplate/listPriTemplateId', data).then((res) => {\n                let tempData = res.data.data;\n                uni.requestSubscribeMessage({\n                    tmplIds: tempData,\n                    success: function (res) {\n                        uni.getSetting({\n                            withSubscriptions: true,\n                            success: (result) => {\n                                uni.showToast({\n                                    title: '订阅消息成功'\n                                });\n                                let data = {\n                                    status: that.status,\n                                    marchantId: that.marchantId,\n                                    templateIds: tempData,\n                                    appId: appid,\n                                    targetType: 5\n                                };\n                                app.globalData.sjrequest('/basic/addsubscription', data).then((res) => {\n                                    if (res.data.code == 200) {\n                                        uni.showToast({\n                                            title: '订阅消息成功'\n                                        });\n                                        this.$emit('event', {\n                                            detail: true\n                                        });\n                                    } else {\n                                        uni.showToast({\n                                            title: res.data.msg,\n                                            icon: 'none'\n                                        });\n                                    }\n                                });\n                            }\n                        });\n                    },\n\n                    fail(e) {\n                        console.log(e);\n                        uni.showToast({\n                            title: '订阅消息失败,请点击右上角三个点中的设置打开消息订阅开关',\n                            icon: 'none'\n                        });\n                    }\n                });\n            });\n        },\n\n        // 点赞/取消\n        operationPraise() {\n            let data = {\n                commentId: this.dynamicData.id\n            };\n            return app.globalData.sjrequest('/marchant/operationPraise', data).then((res) => {\n                var pages = getCurrentPages();\n                var prevPge = pages[pages.length - 2];\n                prevPge.data.commentList.forEach((item, idx) => {\n                    //更新上一个页面的内容\n                    let isPraise1 = 'commentList[' + idx + '].isPraise';\n                    let praise1 = 'commentList[' + idx + '].praise';\n\n                    if (item.id == this.dynamicData.id) {\n                        if (item.isPraise) {\n                            prevPge.commentList[idx].praise = this.dynamicData.praise - 1;\n                            prevPge.commentList[idx].isPraise = 0;\n                        } else {\n                            prevPge.commentList[idx].praise = this.dynamicData.praise + 1;\n                            prevPge.commentList[idx].isPraise = 1;\n                        }\n                    }\n                });\n                let isPraise = 'dynamicData.isPraise';\n                let praise = 'dynamicData.praise';\n\n                if (this.dynamicData.isPraise) {\n                    this[dynamicData.praise] = this.dynamicData.praise - 1;\n                    this[dynamicData.isPraise] = 0;\n                } else {\n                    this[dynamicData.praise] = this.dynamicData.praise + 1;\n                    this[dynamicData.isPraise] = 1;\n                }\n            });\n        },\n\n        // 获取评论信息\n        getCommentInfo() {\n            let data = {\n                commentId: this.dynamicData.id\n            };\n            return app.globalData.sjrequest('/marchant/queryMarchantCommentReply', data).then((res) => {\n                if (res.data.code == 200) {\n                    res.data.data.forEach((item) => {\n                        item.addTime = time.formatTime(item.addTime);\n                    });\n                    this.setData({\n                        commentDataList: res.data.data\n                    });\n                }\n            });\n        },\n\n        /**图片预览 */\n        imgClick(e) {\n            var src = e.currentTarget.dataset.src;\n            var imgList = e.currentTarget.dataset.list;\n            uni.previewImage({\n                current: src,\n                urls: imgList\n            });\n        },\n\n        // 输入文字\n        inputContent(e) {\n            this.setData({\n                content: e.detail.value.trim()\n            });\n        },\n\n        // 发布评论\n        releaseComment() {\n            if (!this.content) {\n                uni.showToast({\n                    title: '说点什么吧~',\n                    icon: 'none'\n                });\n                return;\n            }\n\n            let data = {\n                commentId: this.dynamicData.id,\n                content: this.content,\n                isMarchant: 0,\n                parentId: 0\n            };\n            let that = this;\n            app.globalData.sjrequest('/marchant/addMarchantCommentReply', data).then((res) => {\n                if (res.data.code == 200) {\n                    uni.showToast({\n                        title: '评论成功'\n                    });\n                    let reply = 'dynamicData.reply';\n                    this[dynamicData.reply] = this.dynamicData.reply + 1;\n                    this.setData({\n                        content: ''\n                    });\n                    that.getCommentInfo();\n                    var pages = getCurrentPages();\n                    var prevPge = pages[pages.length - 2];\n                    prevPge.data.commentList.forEach((item, index) => {\n                        if (item.id == data.commentId) {\n                            let reply = `commentList[${index}].reply`;\n                            prevPge.commentList[index].reply = item.reply + 1;\n                        }\n                    });\n                } else {\n                    uni.showToast({\n                        title: res.data.msg,\n                        icon: 'none'\n                    });\n                }\n            });\n        },\n\n        inputFocus(e) {\n            console.log(e, '键盘弹起');\n            var inputHeight = 0;\n\n            if (e.detail.height) {\n                inputHeight = e.detail.height;\n            }\n\n            this.setData({\n                inputHeight: inputHeight\n            });\n        },\n\n        inputBlur() {\n            this.setData({\n                inputHeight: 0,\n                isFocus: false\n            });\n        },\n\n        toBuy(e) {\n            uni.navigateTo({\n                url: '/pages/Index/GoodsDetails/GoodsDetails?id=' + e.currentTarget.dataset.id\n            });\n        },\n\n        commentFocus() {\n            this.setData({\n                isFocus: true\n            });\n        }\n    }\n};\n</script>\n<style>\n/* 商家动态 */\n.store-danamic-item {\n    width: 100%;\n    height: 100%;\n    background-color: #fff;\n    box-shadow: 0rpx 6rpx 12rpx rgba(0, 0, 0, 0.1);\n    margin-bottom: 20rpx;\n}\n.store-danamic-content {\n    width: 100%;\n    padding: 20rpx 20rpx 0;\n    box-sizing: border-box;\n}\n.store-info-box {\n    width: 100%;\n    height: 62rpx;\n    display: flex;\n    align-items: center;\n}\n.store-dynamic-logo {\n    width: 62rpx;\n    height: 62rpx;\n    border-radius: 50%;\n}\n.store-dynamic-box-info {\n    flex: 1;\n    margin-left: 20rpx;\n}\n.store-dynamic-name {\n    height: 34rpx;\n    font-size: 24rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    line-height: 34rpx;\n    color: #333333;\n}\n.store-dynamic-time {\n    height: 28rpx;\n    font-size: 20rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    line-height: 28rpx;\n    color: #333333;\n}\n.dingyue-btn {\n    width: 110rpx;\n    height: 46rpx;\n    background: rgba(254, 74, 11, 0.25);\n    border-radius: 26rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 24rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    color: #fe4a0b;\n}\n.store-dynamic-text {\n    width: 100%;\n    margin-top: 16rpx;\n    font-size: 26rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    line-height: 36rpx;\n    color: #000000;\n}\n.store-dynamic-img-list {\n    width: 100%;\n    display: flex;\n    padding: 20rpx 0;\n}\n.store-dynamic-img {\n    width: 320rpx;\n    height: 320rpx;\n    margin-right: 20rpx;\n    border-radius: 10rpx;\n    position: relative;\n}\n.store-dynamic-big-img {\n    width: 540rpx;\n    height: 540rpx;\n}\n.store-dynamic-img-more {\n    width: 86rpx;\n    height: 38rpx;\n    background: #fe4a0b;\n    border-radius: 20rpx 0rpx 0rpx 20rpx;\n    font-size: 28rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    color: #ffffff;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n    right: 0;\n    bottom: 20rpx;\n}\n/* 商品 */\n.dynamic-goods-container {\n    width: 100%;\n    height: 220rpx;\n    padding: 20rpx;\n    border-top: 2rpx solid #f4f4f4;\n    box-sizing: border-box;\n    display: flex;\n}\n.dynamic-goods-container-img {\n    width: 180rpx;\n    height: 180rpx;\n    border-radius: 10rpx;\n}\n.dynamic-goods-container-content {\n    flex: 1;\n    height: 180rpx;\n    margin-left: 18rpx;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n}\n.dynamic-goods-container-name {\n    width: 100%;\n    height: 40rpx;\n    font-size: 28rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    line-height: 40rpx;\n    color: #333333;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n.dynamic-goods-container-text {\n    width: 100%;\n    max-height: 64rpx;\n    font-size: 22rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    line-height: 32rx;\n    color: #666;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 2;\n}\n.dynamic-goods-bottom {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n.dynamic-goods-container-price {\n    height: 44rpx;\n    font-size: 32rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    line-height: 44rpx;\n    color: #ff0000;\n}\n.dynamic-goods-container-btn {\n    width: 160rpx;\n    height: 50rpx;\n    background: linear-gradient(180deg, #f95244 0%, #ff1400 100%);\n    border-radius: 12rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 28rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    color: #ffffff;\n}\n.store-dynamic-bottom {\n    width: 100%;\n    height: 116rpx;\n    display: flex;\n    align-items: center;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    background-color: #fff;\n}\n.store-dynamic-bottom-item {\n    flex: 1;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n}\n.store-dynamic-bottom-item-icon {\n    width: 56rpx;\n    height: 56rpx;\n}\n.comment-number {\n    width: 50rpx;\n    height: 50rpx;\n    background: #f34f18;\n    border-radius: 50%;\n    position: absolute;\n    right: 70rpx;\n    top: 8rpx;\n    font-size: 32rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    color: #ffffff;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.parise-box {\n    width: 162rpx;\n    height: 76rpx;\n    background: #fe4a0b;\n    box-shadow: 0rpx 6rpx 12rpx rgba(254, 74, 11, 0.7);\n    border-radius: 38rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 34rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    color: #ffffff;\n}\n/* 评论 */\n.comment-container {\n    width: 100%;\n    padding: 20rpx 30rpx 20rpx 20rpx;\n    box-sizing: border-box;\n    box-shadow: 0rpx 6rpx 12rpx rgba(0, 0, 0, 0.1);\n    margin-bottom: 130rpx;\n}\n.comment-title {\n    height: 40rpx;\n    font-size: 28rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    line-height: 40rpx;\n    color: #000000;\n}\n.comment-item {\n    width: 100%;\n    display: flex;\n    margin-top: 20rpx;\n}\n.comment-user-img {\n    width: 62rpx;\n    height: 62rpx;\n    border-radius: 50%;\n}\n.comment-content {\n    flex: 1;\n    margin-left: 10rpx;\n}\n.comment-top-info {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n.comment-top-left {\n    display: flex;\n    align-items: center;\n    font-size: 24rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    line-height: 34rpx;\n    color: #333333;\n}\n.comment-name {\n    max-width: 200rpx;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n.member-img {\n    width: 28rpx;\n    height: 28rpx;\n    margin-left: 10rpx;\n}\n.user-info-solid {\n    width: 2rpx;\n    height: 34rpx;\n    background-color: #666;\n    margin: 0 20rpx;\n}\n.user-info-icon {\n    width: 40rpx;\n    height: 40rpx;\n}\n.user-signature {\n    width: 50%;\n    height: 26rpx;\n    font-size: 18rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    line-height: 26rpx;\n    color: #333333;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n.user-commnet-text {\n    width: 100%;\n    font-size: 24rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    line-height: 34rpx;\n    color: #333333;\n    margin-top: 8rpx;\n    word-break: break-all;\n}\n\n/* 输入框 */\n.input-container {\n    width: 100%;\n    padding: 20rpx;\n    box-sizing: border-box;\n    background-color: #fff;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    display: flex;\n    align-items: center;\n}\n.input-text {\n    width: 572rpx;\n    min-height: 50rpx;\n    max-height: 120rpx;\n    font-weight: bold;\n    background-color: #ecedef;\n    border-radius: 8rpx;\n    font-size: 24rpx;\n    line-height: 34rpx;\n    color: #333;\n    padding: 12rpx;\n    box-sizing: border-box;\n}\n.confirm-btn {\n    width: 110rpx;\n    height: 50rpx;\n    background: #fe4a0b;\n    border-radius: 20rpx;\n    font-size: 24rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    color: #ffffff;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: 14rpx;\n}\n</style>\n","import mod from \"-!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./storeDynamicDetails.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./storeDynamicDetails.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1659404704786\n      var cssReload = require(\"D:/hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}