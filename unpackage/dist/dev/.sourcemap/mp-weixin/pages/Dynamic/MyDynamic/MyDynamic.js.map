{"version":3,"sources":["uni-app:///main.js","webpack:///D:/products/xssj_New_basic_uni/pages/Dynamic/MyDynamic/MyDynamic.vue?4236","webpack:///D:/products/xssj_New_basic_uni/pages/Dynamic/MyDynamic/MyDynamic.vue?7dd7","webpack:///D:/products/xssj_New_basic_uni/pages/Dynamic/MyDynamic/MyDynamic.vue?e09a","webpack:///D:/products/xssj_New_basic_uni/pages/Dynamic/MyDynamic/MyDynamic.vue?de9b","uni-app:///pages/Dynamic/MyDynamic/MyDynamic.vue","webpack:///D:/products/xssj_New_basic_uni/pages/Dynamic/MyDynamic/MyDynamic.vue?bb8a","webpack:///D:/products/xssj_New_basic_uni/pages/Dynamic/MyDynamic/MyDynamic.vue?cc44"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,iH,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,kBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;AACa;;;AAGrE;AAC6K;AAC7K,gBAAgB,oLAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAwpB,CAAgB,spBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4D5qB;AACA;;AAEA,8D;;AAEA;AACA,MADA,kBACA;AACA;AACA,iBADA;AAEA,kBAFA;AAGA,qBAHA;AAIA,uBAJA;;AAMA;AACA,kBADA,EANA;;;AAUA;AACA;;OAbA;AAgBA,qCAhBA;AAiBA;;;AAGA;AACA;AACA,iBADA;AAEA,uBAFA;AAGA,qBAHA;;AAKA;AACA,GA3BA;AA4BA;;;AAGA,gCA/BA;AAgCA;;;AAGA,8BAnCA;AAoCA;;;AAGA,kCAvCA;AAwCA;;;AAGA;AACA;AACA,iBADA;AAEA,uBAFA;AAGA,qBAHA;;AAKA;AACA,GAlDA;AAmDA;;;AAGA;AACA;AACA;AACA,mCADA;;AAGA;AACA;AACA,GA7DA;AA8DA;;QAEA;AACA,iBADA,2BACA;AACA;AACA,+BADA;AAEA,+BAFA;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;;AAEA;AACA,qDADA;;;AAIA;AACA;AACA,8BADA;;AAGA;;AAEA;AACA,OA1BA;AA2BA,KAjCA;;AAmCA;AACA,aApCA,qBAoCA,CApCA,EAoCA;AACA;AACA;AACA,8BADA;AAEA,kCAFA;;AAIA;AACA,+CADA;;AAGA,KA7CA;;AA+CA;AACA,WAhDA,mBAgDA,CAhDA,EAgDA;AACA;AACA;AACA;AACA,qBADA;;AAGA;AACA;AACA;;AAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;;AAEA;AACA,2BADA;;AAGA,OAbA;AAcA,KApEA;;AAsEA;AACA,YAvEA,oBAuEA,CAvEA,EAuEA;AACA;AACA;AACA;AACA,oBADA;AAEA,qBAFA;;AAIA,KA9EA,EAhEA,E;;;;;;;;;;;;;ACjEA;AAAA;AAAA;AAAA;AAA+7B,CAAgB,y5BAAG,EAAC,C;;;;;;;;;;;ACAn9B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/Dynamic/MyDynamic/MyDynamic.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/Dynamic/MyDynamic/MyDynamic.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./MyDynamic.vue?vue&type=template&id=ea728184&\"\nvar renderjs\nimport script from \"./MyDynamic.vue?vue&type=script&lang=js&\"\nexport * from \"./MyDynamic.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyDynamic.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/Dynamic/MyDynamic/MyDynamic.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./MyDynamic.vue?vue&type=template&id=ea728184&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./MyDynamic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./MyDynamic.vue?vue&type=script&lang=js&\"","<template>\n    <view>\n        <view style=\"width: 100%; height: 1rpx; background: #e5e5e5\"></view>\n        <view v-if=\"!dynamicList.length\" class=\"no-dynamic\">\n            <image class=\"no-dynamic-img\" src=\"/static/pages/img/no_notice.png\"></image>\n            <view class=\"no-dynamic-text\">您还没有发表动态……</view>\n        </view>\n        <view v-else>\n            <view class=\"dynamic-item\" v-for=\"(item, index) in dynamicList\" :key=\"index\">\n                <view class=\"dynamic-top\">\n                    <view class=\"touxiang-box\">\n                        <image class=\"my-touxiang\" mode=\"aspectFill\" :src=\"item.userInfo.headimgurl\"></image>\n                        <image v-if=\"item.userInfo.sex == 1\" class=\"sex\" src=\"/static/pages/img/man.png\"></image>\n                        <image v-if=\"item.userInfo.sex == 2\" class=\"sex\" src=\"/static/pages/img/woman.png\"></image>\n                    </view>\n                    <view class=\"my-info-box\">\n                        <view class=\"name-box\">\n                            {{ item.userInfo.nickname }}\n                            <!-- <image class=\"set\" src=\"../../img/set.png\"></image> -->\n                        </view>\n                        <view class=\"autograngh\">{{ item.userInfo.signature }}</view>\n                    </view>\n                </view>\n\n                <rich-text :nodes=\"item.content\" class=\"dynamic-text\"></rich-text>\n\n                <view class=\"dynamic-img-list\">\n                    <image\n                        class=\"dynamic-img-item\"\n                        mode=\"aspectFill\"\n                        lazy-load\n                        :src=\"pitem\"\n                        @tap=\"imgClick\"\n                        :data-list=\"item.picture\"\n                        :data-src=\"pitem\"\n                        v-for=\"(pitem, pindex) in item.picture\"\n                        :key=\"pitem.pindex\"\n                    ></image>\n                </view>\n\n                <view class=\"dynamic-bottom\">\n                    <view class=\"dynamic-time\">{{ item.addTime }}</view>\n                    <view class=\"dynamic-zan-box\">\n                        <view class=\"comment\" @tap=\"toComment\" :data-item=\"item\">\n                            <image style=\"width: 30rpx; height: 28rpx\" src=\"/static/pages/img/comment.png\"></image>\n                            <view class=\"comment-text\">{{ item.reply == 0 ? '评论' : item.reply }}</view>\n                        </view>\n                        <view class=\"comment dianzan\" @tap=\"liketap\" :data-id=\"item.id\" :data-index=\"index\">\n                            <image style=\"width: 30rpx; height: 28rpx\" v-if=\"item.isPraise\" src=\"/static/pages/img/gooded.png\"></image>\n                            <image style=\"width: 30rpx; height: 28rpx\" v-else src=\"/static/pages/img/good.png\"></image>\n                            <view class=\"comment-text\">{{ item.praise == 0 ? '赞' : item.praise }}</view>\n                        </view>\n                    </view>\n                </view>\n            </view>\n        </view>\n    </view>\n</template>\n\n<script>\n// pages/Dynamic/MyDynamic/MyDynamic.js\nconst app = getApp();\n\nconst time = require('../../../utils/util');\n\nexport default {\n    data() {\n        return {\n            pageCurr: 1,\n            pageSize: 15,\n            dynamicList: [],\n            stopLoading: true,\n\n            pitem: {\n                pindex: ''\n            }\n        };\n    }\n    /**\n     * 生命周期函数--监听页面加载\n     */,\n    onLoad: function (options) {},\n    /**\n     * 生命周期函数--监听页面显示\n     */\n    onShow: function () {\n        this.setData({\n            pageCurr: 1,\n            stopLoading: true,\n            dynamicList: []\n        });\n        this.showMyDynamic();\n    },\n    /**\n     * 生命周期函数--监听页面初次渲染完成\n     */\n    onReady: function () {},\n    /**\n     * 生命周期函数--监听页面隐藏\n     */\n    onHide: function () {},\n    /**\n     * 生命周期函数--监听页面卸载\n     */\n    onUnload: function () {},\n    /**\n     * 页面相关事件处理函数--监听用户下拉动作\n     */\n    onPullDownRefresh: function () {\n        this.setData({\n            pageCurr: 1,\n            stopLoading: true,\n            dynamicList: []\n        });\n        this.showMyDynamic();\n    },\n    /**\n     * 页面上拉触底事件的处理函数\n     */\n    onReachBottom: function () {\n        if (this.stopLoading) {\n            this.setData({\n                pageCurr: this.pageCurr + 1\n            });\n            this.showMyDynamic();\n        }\n    },\n    /**\n     * 用户点击右上角分享\n     */ methods: {\n        showMyDynamic() {\n            var data = {\n                pageCurr: this.pageCurr,\n                pageSize: this.pageSize\n            };\n            app.globalData.sjrequest('/marchant/queryMyComm', data).then((res) => {\n                var list = res.data.data;\n\n                for (var i in list) {\n                    list[i].addTime = time.formatTime(list[i].addTime);\n                    var contentString = '';\n                    var contentList = JSON.stringify(list[i].content);\n                    contentList = contentList.slice(1, contentList.length - 1);\n                    contentList = contentList.split('\\\\n');\n                    contentList.forEach((item) => {\n                        contentString = contentString + item + '<br />';\n                    });\n                    list[i].content = contentString;\n                }\n\n                this.setData({\n                    dynamicList: this.dynamicList.concat(list)\n                });\n\n                if (list.length < 1) {\n                    this.setData({\n                        stopLoading: false\n                    });\n                }\n\n                uni.stopPullDownRefresh();\n            });\n        },\n\n        // 评论\n        toComment(e) {\n            var item = e.currentTarget.dataset['item'];\n            uni.setStorage({\n                key: 'commentListItem',\n                data: JSON.stringify(item)\n            });\n            uni.navigateTo({\n                url: '../DynamicDetails/DynamicDetails'\n            });\n        },\n\n        // 点赞\n        liketap(e) {\n            var id = e.currentTarget.dataset['id'];\n            var index = e.currentTarget.dataset['index'];\n            var data = {\n                commentId: id\n            };\n            app.globalData.sjrequest('/dynamic/praise', data).then((res) => {\n                var list = this.dynamicList;\n                list[index].isPraise = !list[index].isPraise;\n\n                if (list[index].isPraise) {\n                    list[index].praise += 1;\n                } else {\n                    list[index].praise -= 1;\n                }\n\n                this.setData({\n                    dynamicList: list\n                });\n            });\n        },\n\n        /**图片预览 */\n        imgClick(e) {\n            var src = e.currentTarget.dataset.src;\n            var imgList = e.currentTarget.dataset.list;\n            uni.previewImage({\n                current: src,\n                urls: imgList\n            });\n        }\n    }\n};\n</script>\n<style>\n/* pages/Dynamic/MyDynamic/MyDynamic.wxss */\n.dynamic-item {\n    width: 100%;\n    padding: 30rpx;\n    box-sizing: border-box;\n    border-bottom: 10rpx solid #f5f5f5;\n}\n.dynamic-top {\n    display: flex;\n}\n.touxiang-box {\n    width: 84rpx;\n    height: 84rpx;\n    position: relative;\n}\n.my-touxiang {\n    width: 84rpx;\n    height: 84rpx;\n    border-radius: 50%;\n}\n.sex {\n    width: 30rpx;\n    height: 28rpx;\n    position: absolute;\n    right: 4rpx;\n    bottom: 4rpx;\n}\n.my-info-box {\n    width: 0;\n    flex: 1;\n    height: 84rpx;\n    margin-left: 20rpx;\n}\n.name-box {\n    width: 100%;\n    height: 40rpx;\n    font-size: 26rpx;\n    font-family: PingFang SC;\n    font-weight: bold;\n    line-height: 26rpx;\n    color: #333333;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 10rpx;\n}\n.set {\n    width: 30rpx;\n    height: 8rpx;\n}\n.autograngh {\n    height: 28rpx;\n    font-size: 20rpx;\n    font-family: PingFang SC;\n    font-weight: 400;\n    line-height: 26rpx;\n    color: #999999;\n}\n.dynamic-text {\n    font-size: 30rpx;\n    font-family: PingFang SC;\n    font-weight: 400;\n    line-height: 48rpx;\n    color: #333333;\n    margin-top: 20rpx;\n    word-break: break-all;\n    word-wrap: break-word;\n}\n.dynamic-img-list {\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n}\n.dynamic-img-item {\n    width: 210rpx;\n    height: 210rpx;\n    /* object-fit: cover; */\n    margin-right: 30rpx;\n    margin-top: 20rpx;\n}\n.dynamic-img-list .dynamic-img-item:nth-child(3n) {\n    margin-right: 0;\n}\n.dynamic-bottom {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 20rpx;\n}\n.dynamic-time {\n    height: 28rpx;\n    font-size: 20rpx;\n    font-family: PingFang SC;\n    font-weight: 400;\n    line-height: 28rpx;\n    color: #999999;\n}\n.dynamic-zan-box {\n    height: 28rpx;\n    display: flex;\n}\n.comment {\n    display: flex;\n    align-items: center;\n}\n.dianzan {\n    margin-left: 30rpx;\n}\n.comment-text {\n    margin-left: 14rpx;\n}\n\n.no-dynamic {\n    width: 100%;\n    height: 80vh;\n    padding: 20rpx 60rpx 0;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n}\n.no-dynamic-img {\n    width: 632rpx;\n    height: 368rpx;\n}\n\n.no-dynamic-text {\n    font-size: 28rpx;\n    font-family: PingFang SC;\n    font-weight: 400;\n    line-height: 42rpx;\n    color: #000;\n    opacity: 1;\n    margin-top: 40rpx;\n\n    font-size: 26rpx;\n    font-family: PingFang SC;\n    font-weight: 400;\n    line-height: 29rpx;\n    color: #999999;\n}\n</style>\n","import mod from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./MyDynamic.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./MyDynamic.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1659404715867\n      var cssReload = require(\"D:/hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}