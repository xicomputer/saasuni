{"version":3,"sources":["webpack:///D:/products/xssj_New_basic_uni/pages/videoPlay/components/scroll-video.vue?4763","webpack:///D:/products/xssj_New_basic_uni/pages/videoPlay/components/scroll-video.vue?e7ef","webpack:///D:/products/xssj_New_basic_uni/pages/videoPlay/components/scroll-video.vue?5f56","webpack:///D:/products/xssj_New_basic_uni/pages/videoPlay/components/scroll-video.vue?4df0","uni-app:///pages/videoPlay/components/scroll-video.vue","webpack:///D:/products/xssj_New_basic_uni/pages/videoPlay/components/scroll-video.vue?0849","webpack:///D:/products/xssj_New_basic_uni/pages/videoPlay/components/scroll-video.vue?7814"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACa;;;AAGxE;AAC6K;AAC7K,gBAAgB,oLAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA2pB,CAAgB,ypBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgC/qB;gBACA;AACA;AACA,kCADA,EADA;;AAIA,MAJA,kBAIA;AACA;AACA,eADA;AAEA;AACA,qBAHA;AAIA;AACA,oBALA;AAMA,sBANA;AAOA,iBAPA;AAQA;AACA,kBATA,CASA;AATA;AAWA,GAhBA;AAiBA;AACA,uBADA,CACA;AADA,GAjBA;AAoBA;;;AAGA;AACA;AACA;AACA,iBADA;AAEA,+CAFA,EAFA;;AAMA;AACA;AACA,kBADA;AAEA,wBAFA,EAPA;;AAWA;AACA;AACA,kBADA;AAEA,kBAFA,EAZA;;AAgBA;AACA;AACA,kBADA;AAEA,sBAFA,EAjBA,EAvBA;;;AA6CA;AACA;AACA,mBADA;AAEA,8BAFA;;AAIA;AACA;AACA;AACA;AACA,wCADA;AAEA,sCAFA;;AAIA,OANA;;AAQA;AACA;AACA,sCADA;;AAGA,GA/DA;AAgEA;;;AAGA;AACA;AACA,cADA,CACA,UADA,aACA,UADA,CACA,UADA,aACA,UADA,CACA,MADA,aACA,MADA;AAEA;AACA;AACA,gCADA;AAEA,gCAFA;AAGA,wBAHA,EADA;;;AAOA,KAVA;AAWA;AACA,WADA,GACA,mBADA,CACA,KADA,EACA;;AAEA;AACA,qBADA;;AAGA,KAjBA;AAkBA;AACA,cADA,GACA,uBADA,CACA,QADA;AAEA;AACA;AACA,+CAJA;AAKA,YALA,GAKA,IALA,CAKA,MALA;AAMA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,kCAFA;AAGA,2CAHA,EADA;;;AAOA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCADA;AAEA,oCAFA;AAGA,yCAHA,EADA;;;AAOA;AACA;AACA,kDADA;AAEA,8BAFA;;AAIA;AACA,OA5BA,MA4BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCADA;AAEA,oCAFA;AAGA,yCAHA,EADA;;;AAOA;AACA;AACA;AACA,kDADA;AAEA,8BAFA;;AAIA;AACA;AACA,KArFA,EAnEA;;AA0JA;AACA;AACA;AACA;AACA,kCADA;;AAGA,OALA;;AAOA,qBAPA;AAQA,gBARA,EADA;;;AAYA;AACA;AACA;AACA,OAHA;;AAKA,qBALA,EAZA;;;AAoBA;AACA,kDADA;AAEA,qBAFA,EApBA,EA1JA,E;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAk8B,CAAgB,45BAAG,EAAC,C;;;;;;;;;;;ACAt9B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/videoPlay/components/scroll-video.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./scroll-video.vue?vue&type=template&id=3efa5ceb&\"\nvar renderjs\nimport script from \"./scroll-video.vue?vue&type=script&lang=js&\"\nexport * from \"./scroll-video.vue?vue&type=script&lang=js&\"\nimport style0 from \"./scroll-video.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/videoPlay/components/scroll-video.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scroll-video.vue?vue&type=template&id=3efa5ceb&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scroll-video.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scroll-video.vue?vue&type=script&lang=js&\"","<template>\n    <!-- components/scroll-video.wxml -->\n    <view class=\"video-container\">\n        <view class=\"video-scroll-container\" :animation=\"scrollAnimate\">\n            <view class=\"video-scroll-item\" @touchstart=\"onTouchStart\" @touchend=\"onTouchEnd\" :data-videoidx=\"idx\" v-for=\"(items, idx) in videoList\" :key=\"items.idx\">\n                <block v-if=\"items.video_is_player\">\n                    <block v-if=\"playerType === 'video'\">\n                        <video-button-bar @buttonhandle=\"buttonhandle\" :itemdata=\"items\"></video-button-bar>\n                        <video\n                            class=\"video-player\"\n                            :controls=\"false\"\n                            :autoplay=\"true\"\n                            :poster=\"items.coverUrl\"\n                            :src=\"items.videoUrl\"\n                            :show-fullscreen-btn=\"false\"\n                            :show-play-btn=\"false\"\n                            :object-fit=\"fitType\"\n                        ></video>\n                    </block>\n                    <block v-if=\"playerType === 'live'\">\n                        <live-player class=\"video-player\" :style=\"'width:' + screenWidth + 'px'\" :src=\"items.videoUrl\" :object-fit=\"fitType\" autoplay mode=\"RTC\">\n                            <video-button-bar @buttonhandle=\"buttonhandle\" :itemdata=\"items\"></video-button-bar>\n                        </live-player>\n                    </block>\n                </block>\n            </view>\n        </view>\n    </view>\n</template>\n\n<script>\nimport videoButtonBar from './video-button-bar';\n// components/scroll-video.js\nexport default {\n    components: {\n        videoButtonBar\n    },\n    data() {\n        return {\n            startY: 0,\n            //开始y点\n            screenHeight: 0,\n            //获取当前屏幕高度\n            screenWidth: 0,\n            scrollAnimate: 0,\n            videoidx: 0,\n            //保存切换下标\n            videoSize: 0 //视频列表的长度\n        };\n    },\n    options: {\n        multipleSlots: true // 在组件定义时的选项中启用多slot支持\n    },\n    /**\n     * 组件的属性列表\n     */\n    props: {\n        //父组件传入的视频列表\n        videoList: {\n            type: Array,\n            default: () => []\n        },\n        //视频或者直播适配页面方式\n        fitType: {\n            type: String,\n            default: 'contain'\n        },\n        //滑动距离的设置 超过该距离回出现页面下滑或者上滑的情况\n        thresholdValue: {\n            type: Number,\n            default: 100\n        },\n        //播放器类型\n        playerType: {\n            type: String,\n            default: 'video'\n        }\n    },\n    mounted: function () {\n        this.animation = uni.createAnimation({\n            duration: 600,\n            timingFunction: 'linear'\n        });\n        let that = this;\n        uni.getSystemInfo({\n            success: function (res) {\n                that.setData({\n                    screenHeight: res.windowHeight,\n                    screenWidth: res.windowWidth\n                });\n            }\n        });\n        console.log(this.videoList.length);\n        this.setData({\n            videoSize: this.videoList.length\n        });\n    },\n    /**\n     * 组件的方法列表\n     */\n    methods: {\n        buttonhandle: function (e) {\n            const { buttontype, buttonname, itemid } = e.detail;\n            this.$emit('menuTap', {\n                detail: {\n                    buttontype,\n                    buttonname,\n                    itemid\n                }\n            });\n        },\n        onTouchStart: function (e) {\n            const { pageY } = e.changedTouches[0]; //记录手指位置\n\n            this.setData({\n                startY: pageY\n            });\n        },\n        onTouchEnd: function (e) {\n            let { videoidx } = e.currentTarget.dataset;\n            videoidx = parseInt(videoidx);\n            console.log(videoidx);\n            let thresholdValue = this.thresholdValue;\n            const { startY } = this;\n            let movey = e.changedTouches[0].pageY;\n            let changeY = movey - startY;\n\n            if (changeY > 0) {\n                if (changeY >= thresholdValue) {\n                    if (videoidx === 0) {\n                        this.$emit('swipeToStart', {\n                            detail: {\n                                oldindex: 0,\n                                newindex: videoidx,\n                                playerType: this.playerType\n                            }\n                        });\n                        return false;\n                    }\n\n                    let top_height = -((videoidx - 1) * this.screenHeight);\n                    console.log('手指向下滑动,往上切换视频');\n                    this.$emit('swipeDown', {\n                        detail: {\n                            oldindex: videoidx,\n                            newindex: videoidx - 1,\n                            playerType: this.playerType\n                        }\n                    });\n                    this.animation.translateY(top_height).step();\n                    this.setData({\n                        scrollAnimate: this.animation.export(),\n                        videoidx: videoidx\n                    });\n                }\n            } else {\n                let abschangeY = Math.abs(changeY);\n\n                if (abschangeY >= thresholdValue) {\n                    if (videoidx + 1 === this.videoSize) {\n                        // this.triggerEvent('swipeToEnd', {\n                        //   oldindex: videoidx + 1,\n                        //   newindex:videoidx,\n                        //   playerType: this.properties.playerType\n                        // });\n                        //return false;\n                        videoidx = -1;\n                    }\n\n                    let btm_height = -((videoidx + 1) * this.screenHeight);\n                    this.$emit('swipeUpper', {\n                        detail: {\n                            oldindex: videoidx,\n                            newindex: videoidx + 1,\n                            playerType: this.playerType\n                        }\n                    });\n                    this.animation.translateY(btm_height).step();\n                    console.log('向上滑动,往下切换视频');\n                    this.setData({\n                        scrollAnimate: this.animation.export(),\n                        videoidx: videoidx\n                    });\n                }\n            }\n        }\n    },\n    watch: {\n        videoList: {\n            handler: function (newVal, oldVal) {\n                this.setData({\n                    videoSize: newVal.length\n                });\n            },\n\n            immediate: true,\n            deep: true\n        },\n\n        thresholdValue: {\n            handler: function (newVal, oldVal) {\n                console.log(newVal, oldVal);\n            },\n\n            immediate: true\n        },\n\n        playerType: {\n            handler: function (newVal, oldVal) {},\n            immediate: true\n        }\n    }\n};\n</script>\n<style>\n/* components/scroll-video.wxss */\n.video-container {\n    position: relative;\n    height: 100%;\n    width: 100%;\n    background-color: #000;\n    overflow: hidden;\n}\n.video-scroll-container {\n    position: absolute;\n    width: 100%;\n    left: 0;\n    top: 0;\n    height: 100%;\n    z-index: 366;\n}\n.video-scroll-item {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    z-index: 333;\n    position: relative;\n}\n.video-player {\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n}\n.message-container {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    background-color: #000;\n}\n</style>\n","import mod from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scroll-video.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scroll-video.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1659404723221\n      var cssReload = require(\"D:/hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}