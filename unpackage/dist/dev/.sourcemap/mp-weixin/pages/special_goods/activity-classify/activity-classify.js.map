{"version":3,"sources":["uni-app:///main.js","webpack:///D:/products/xssj_New_basic_uni/pages/special_goods/activity-classify/activity-classify.vue?d88d","webpack:///D:/products/xssj_New_basic_uni/pages/special_goods/activity-classify/activity-classify.vue?8cbd","webpack:///D:/products/xssj_New_basic_uni/pages/special_goods/activity-classify/activity-classify.vue?4c91","webpack:///D:/products/xssj_New_basic_uni/pages/special_goods/activity-classify/activity-classify.vue?56d0","uni-app:///pages/special_goods/activity-classify/activity-classify.vue","webpack:///D:/products/xssj_New_basic_uni/pages/special_goods/activity-classify/activity-classify.vue?4d74","webpack:///D:/products/xssj_New_basic_uni/pages/special_goods/activity-classify/activity-classify.vue?afda"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,+I,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,yBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACqE;AACL;AACa;;;AAG7E;AAC6K;AAC7K,gBAAgB,oLAAU;AAC1B,EAAE,uFAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAgqB,CAAgB,8pBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4HprB;AACA,mB;AACA;AACA;AACA,4BADA,EADA;;AAIA,MAJA,kBAIA;AACA;AACA,qBADA;AAEA;AACA,eADA;AAEA,kBAFA,EAFA;;AAMA,qBANA;AAOA;AACA,oBARA;AASA;AACA,oBAVA;AAWA;AACA,sBAZA;AAaA;AACA,mBAdA;AAeA;AACA,kBAhBA;AAiBA;AACA,mBAlBA;AAmBA,kBAnBA;AAoBA,iBApBA;AAqBA,oFArBA;AAsBA,4BAtBA,CAsBA;AAtBA;AAwBA,GA7BA;AA8BA;;;AAGA;AACA;AACA;AACA;AACA,KAFA;AAGA;AACA;AACA,KAFA;AAGA,GAzCA;AA0CA;;;AAGA;AACA;AACA;AACA;AACA,8BADA;;AAGA,GAnDA;AAoDA;;;AAGA,8BAvDA;AAwDA;;;AAGA,8BA3DA;AA4DA;;;AAGA,kCA/DA;AAgEA;;;AAGA,oDAnEA;AAoEA;;;AAGA,4CAvEA;AAwEA;AACA,mBAzEA,+BAyEA;AACA;AACA;AACA,qEADA;;AAGA,GA9EA;AA+EA;AACA,iBAhFA,6BAgFA;AACA;AACA;AACA,qEADA;;AAGA,GArFA;AAsFA;AACA,oBADA,8BACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gBAXA;;;AAcA;AACA,KApBA;;AAsBA,YAtBA,oBAsBA,OAtBA,EAsBA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA,EADA;;AAIA;AACA;AACA,+BAFA,CAEA;AACA,OAPA;;AASA;AACA,0BADA;AAEA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,uCAFA;AAGA,qCAHA;AAIA,mCAJA;AAKA,iDALA;AAMA,8CANA;AAOA,+CAPA;AAQA,uCARA;;AAUA;AACA,gCADA;;AAGA,SAnBA;;AAqBA,KAxDA;;AA0DA,cA1DA,sBA0DA,CA1DA,EA0DA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;;AAEA;AACA,gBADA;;AAGA,KA5EA;;AA8EA,iBA9EA,2BA8EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gBAXA;;;AAcA;AACA,yBADA;;AAGA,KApGA;;AAsGA,wBAtGA,kCAsGA;AACA;AACA;AACA,YADA,CACA,kBADA;AAEA,wBAFA,CAEA;AACA;AACA,kCADA;;AAGA,OANA;AAOA,UAPA;AAQA,KAhHA;;AAkHA,aAlHA,uBAkHA;AACA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,0CADA;;AAGA;AACA,KA7HA;;AA+HA,eA/HA,uBA+HA,CA/HA,EA+HA;AACA;AACA;AACA;AACA;AACA,2BADA,EADA;;AAIA;AACA;AACA,OANA;;AAQA,KA1IA;;AA4IA,mBA5IA,6BA4IA;AACA;AACA;AACA;AACA,gBADA,CACA,sDADA,EACA;AACA,oBADA;AAEA,sBAFA;AAGA,mCAHA;AAIA,qCAJA,EADA;;AAOA,UAPA,CAOA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA,WAPA;AAQA;AACA;AACA,8BADA;AAEA,kCAFA;AAGA,gCAHA,EADA;;AAMA;AACA;AACA,WARA;;AAUA;AACA,OA1CA;AA2CA,KA1LA;;AA4LA,wBA5LA,kCA4LA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBADA,CACA,4BADA,EACA;AACA,+BADA;AAEA,oCAFA;AAGA,mCAHA;AAIA;AACA,qCALA;AAMA,uCANA,EADA;;AASA,UATA,CASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DARA,CAQA;;AAEA;AACA;AACA;AACA,WAbA;;AAeA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA,gCADA;AAEA,kCAFA,EADA;;AAKA;AACA;AACA,WAPA;;AASA;AACA,OA7CA;AA8CA,KApPA;;AAsPA,oBAtPA,8BAsPA;AACA;AACA;AACA;AACA,6BADA,EADA;;AAIA;AACA;AACA;AACA,kCADA;;AAGA,SAJA,EAIA,IAJA;AAKA,OAVA;;AAYA,KApQA;;AAsQA,oBAtQA,8BAsQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA,EADA;;AAIA;AACA;AACA,OANA;;AAQA,KArRA;;AAuRA,iBAvRA,2BAuRA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BADA,EADA;;AAIA;AACA;AACA,SANA;;AAQA;AACA,KAxSA,EAtFA,E;;;;;;;;;;;;;AC9HA;AAAA;AAAA;AAAA;AAAu8B,CAAgB,i6BAAG,EAAC,C;;;;;;;;;;;ACA39B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/special_goods/activity-classify/activity-classify.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/special_goods/activity-classify/activity-classify.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./activity-classify.vue?vue&type=template&id=6d888c66&\"\nvar renderjs\nimport script from \"./activity-classify.vue?vue&type=script&lang=js&\"\nexport * from \"./activity-classify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./activity-classify.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/special_goods/activity-classify/activity-classify.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activity-classify.vue?vue&type=template&id=6d888c66&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activity-classify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activity-classify.vue?vue&type=script&lang=js&\"","<template>\n    <view>\n        <!-- pages/special_goods/activity-classify/activity-classify.wxml -->\n\n        <!-- 顶部导航栏 -->\n        <view class=\"me-fx-row me-fx-start-c top-navigation-box\" :style=\"'top:' + menuBtnInfo.top + 'px;height:' + menuBtnInfo.height + 'px'\">\n            <text class=\"icon icon-fanhui5\" @tap=\"breakPage\"></text>\n        </view>\n\n        <view class=\"me-fx-col activity-classify-page\">\n            <swiper class=\"swiper-box\">\n                <swiper-item>\n                    <image :src=\"topImgUrl\" class=\"banner-img\"></image>\n                </swiper-item>\n            </swiper>\n\n            <scroll-view :scroll-x=\"true\">\n                <view class=\"me-fx-row classify-nav-list\">\n                    <view\n                        :class=\"'me-fx-col me-fx-c-c nav-item ' + (nowClassId == item.id ? 'sel-nav' : '')\"\n                        @tap=\"switchClass\"\n                        :data-classid=\"item.id\"\n                        v-for=\"(item, index) in classNavList\"\n                        :key=\"index\"\n                    >\n                        <text class=\"me-fx-row me-fx-c-c\">{{ item.classifyName }}</text>\n\n                        <text class=\"under-line\"></text>\n                    </view>\n                </view>\n            </scroll-view>\n            <view class=\"me-fx-1 list-scroll-box\">\n                <view v-if=\"dataList.length == 0\" class=\"me-fx-col me-fx-c-c list-empty-box\">\n                    <text>暂无数据</text>\n                </view>\n                <scroll-view\n                    v-else\n                    :scroll-y=\"true\"\n                    class=\"product-list\"\n                    :style=\"'height:' + scrollHeight + 'px;'\"\n                    :refresher-enabled=\"true\"\n                    @scrolltolower=\"scrolltolower\"\n                    :refresher-triggered=\"refresherStatus\"\n                    @refresherpulling=\"refresherpulling\"\n                    @refresherrefresh=\"refresherrefresh\"\n                >\n                    <view class=\"me-fx-row goods-item\" @tap=\"jumpDetail\" :data-item=\"item\" v-for=\"(item, index) in dataList\" :key=\"index\">\n                        <image :src=\"item.imageUrl\" class=\"goods-img\"></image>\n\n                        <view class=\"me-fx-1 me-fx-col me-fx-sb\">\n                            <view>\n                                <view class=\"me-full-text goods-name\">{{ item.commodityName }}</view>\n                                <view class=\"me-fx-row\">\n                                    <view class=\"reduced-price\">限时直降{{ item.saveAmount }}元</view>\n                                </view>\n                                <view v-if=\"templateTag == 'JSMS'\" class=\"me-fx-row me-fx-start-c progress-box\">\n                                    <progress\n                                        class=\"me-fx-1\"\n                                        :percent=\"item.percentNum\"\n                                        color=\"#FFE0E0\"\n                                        active\n                                        stroke-width=\"13\"\n                                        border-radius=\"7\"\n                                        show-info\n                                        activeColor=\"#FF0000\"\n                                        font-size=\"9\"\n                                    />\n                                    <text>已秒{{ item.salesTotalCount }}件</text>\n                                </view>\n                            </view>\n\n                            <!-- 秒杀按钮样式 -->\n                            <view class=\"me-fx-row\" v-if=\"templateTag == 'JSMS'\">\n                                <view class=\"me-fx-1 me-fx-row me-fx-c-c price-box\">\n                                    <text>秒杀价：</text>\n                                    <view>\n                                        <text>￥</text>\n                                        <text class=\"price-num\">{{ item.lowPrice }}</text>\n                                    </view>\n                                </view>\n                                <view class=\"me-fx-row me-fx-c-c right-box\">\n                                    <image src=\"/static/pages/special_goods/imgs/ms-icon.png\" class=\"ms-icon-img\"></image>\n                                    <text>急速秒杀</text>\n                                </view>\n                            </view>\n\n                            <!-- 拼团按钮样式 -->\n                            <view class=\"me-fx-row pt-btn-box\" v-if=\"templateTag == 'TTPT'\">\n                                <view class=\"me-fx-1 me-fx-row me-fx-c-c price-box\">\n                                    <text>拼团价:</text>\n                                    <view>\n                                        <text class=\"price-symbol\">￥</text>\n                                        <text class=\"price-int\">{{ item.lowPrice }}</text>\n                                    </view>\n                                </view>\n                                <image class=\"adorn-img\" src=\"/static/pages/special_goods/imgs/pt-adorn.png\"></image>\n                                <view class=\"me-fx-row me-fx-c-c pt-btn-str\">天天拼团</view>\n                            </view>\n\n                            <!-- 推荐返利按钮样式 -->\n                            <view v-if=\"templateTag == 'TJFL'\" class=\"me-fx-row tjfl-btn-box\">\n                                <view class=\"me-fx-row me-fx-c-c fl-price\">\n                                    <text class=\"ljfx-str\">立即返现</text>\n                                    <view class=\"price-str\">\n                                        <text>￥</text>\n                                        <text class=\"price-num\">{{ item.lowPrice }}</text>\n                                    </view>\n                                </view>\n                                <image class=\"fl-adom-img\" src=\"/static/pages/special_goods/imgs/fl-adom.png\"></image>\n                                <view class=\"me-fx-row me-fx-c-c fl-btn-str\">邀三退一</view>\n                            </view>\n                        </view>\n                    </view>\n                </scroll-view>\n            </view>\n        </view>\n\n        <!-- 授权组件 -->\n        <auth-get-info></auth-get-info>\n    </view>\n</template>\n\n<script>\nimport authGetInfo from '../../Component/auth-get-info/auth-get-info';\n// pages/special_goods/activity-classify/activity-classify.js\nlet app = getApp();\nexport default {\n    components: {\n        authGetInfo\n    },\n    data() {\n        return {\n            scrollHeight: 0,\n            menuBtnInfo: {\n                top: '',\n                height: ''\n            },\n            templateTag: '',\n            //活动类型 TTPT TJFL JSMS\n            merchantId: '',\n            //商家id\n            nowClassId: '',\n            //当前分类id\n            classNavList: [],\n            //分类列表\n            loginInfo: {},\n            //登录返回的信息\n            dataList: [],\n            //\n            listDatas: {},\n            pageSize: 10,\n            classId: '',\n            topImgUrl: 'https://xinshusj-1301305452.cos.ap-guangzhou.myqcloud.com/static/',\n            refresherStatus: false //下拉刷新状态 true下拉刷新已触发 false下拉刷新未触发\n        };\n    },\n    /**\n     * 生命周期函数--监听页面加载\n     */\n    onLoad: function (options) {\n        console.log(options, '拼团接收的参数');\n        app.globalData.globalEvent.$on('loginComplete', () => {\n            this.initData(options);\n        });\n        app.globalData.globalEvent.$on('loginReject', () => {\n            this.initData(options);\n        });\n    },\n    /**\n     * 生命周期函数--监听页面初次渲染完成\n     */\n    onReady: function () {\n        this.computedScrollHeight();\n        var menuBtnInfo = app.globalData.MenuButton;\n        this.setData({\n            menuBtnInfo\n        });\n    },\n    /**\n     * 生命周期函数--监听页面显示\n     */\n    onShow: function () {},\n    /**\n     * 生命周期函数--监听页面隐藏\n     */\n    onHide: function () {},\n    /**\n     * 生命周期函数--监听页面卸载\n     */\n    onUnload: function () {},\n    /**\n     * 页面相关事件处理函数--监听用户下拉动作\n     */\n    onPullDownRefresh: function () {},\n    /**\n     * 页面上拉触底事件的处理函数\n     */\n    onReachBottom: function () {},\n    /* 分享朋友 */\n    onShareAppMessage() {\n        var activityTitle = this.getActivityTitle();\n        return {\n            title: this.loginInfo.nickName + '邀请你参与' + activityTitle + '活动'\n        };\n    },\n    /* 分享朋友圈 */\n    onShareTimeline() {\n        var activityTitle = this.getActivityTitle();\n        return {\n            title: this.loginInfo.nickName + '邀请你参与' + activityTitle + '活动'\n        };\n    },\n    methods: {\n        getActivityTitle() {\n            var templateTag = this.templateTag;\n            var activityTitle = '';\n\n            switch (templateTag) {\n                case 'TJFL':\n                    activityTitle = '邀三退一';\n                    break;\n\n                case 'JSMS':\n                    activityTitle = '秒杀';\n                    break;\n\n                case 'TTPT':\n                    activityTitle = '拼团';\n                    break;\n            }\n\n            return activityTitle;\n        },\n\n        initData(options) {\n            var merchantId = options.marchantId;\n            this.merchantId = merchantId;\n            var tagType = options.tagType;\n            this.setData(\n                {\n                    templateTag: tagType\n                },\n                () => {\n                    this.getClassityList();\n                    this.joinTopImgUrl(); //拼接顶部图片地址方法\n                }\n            );\n            uni.getStorage({\n                key: 'zl_userInfo',\n                success: (res) => {\n                    var data = res.data || {};\n                    var info = data.data.data || {};\n                    var userId = info.userId;\n                    var loginInfo = {\n                        userId,\n                        openId: info.setInfo.openId,\n                        appId: info.setInfo.appId,\n                        nickName: info.nickname,\n                        marchantLogic: info.setInfo.headImage,\n                        marchantName: info.setInfo.appName,\n                        merchantId: info.setInfo.merchantId,\n                        userPhone: info.phoneNumber\n                    };\n                    this.setData({\n                        loginInfo\n                    });\n                }\n            });\n        },\n\n        jumpDetail(e) {\n            var item = e.currentTarget.dataset.item;\n            var type = item.templateTag;\n            var activityId = item.activityId;\n            var url = '';\n\n            if (type == 'JSMS') {\n                url = '/pages/seckill/detail/detail?activityId=' + activityId;\n            } else if (type == 'TTPT') {\n                url = '/pages/group_booking/detail/detail?activityId=' + activityId;\n            } else if (type == 'TJFL') {\n                url = '/pages/businessActivity/activity_detail/activity_detail';\n                url += `?activityid=${activityId}`;\n            }\n\n            uni.navigateTo({\n                url\n            });\n        },\n\n        joinTopImgUrl() {\n            //拼接顶部图片地址\n            var type = this.templateTag;\n            var imgUrl = this.topImgUrl;\n\n            switch (type) {\n                case 'JSMS':\n                    imgUrl += '/static/pages/special_goods/activity-classify/jsms-top-img.png';\n                    break;\n\n                case 'TTPT':\n                    imgUrl += '/static/pages/special_goods/activity-classify/ttpt-top-img.png';\n                    break;\n\n                case 'TJFL':\n                    imgUrl += '/static/pages/special_goods/activity-classify/tjfl-top-img.png';\n                    break;\n            }\n\n            this.setData({\n                topImgUrl: imgUrl\n            });\n        },\n\n        computedScrollHeight() {\n            //计算scroll-view高度\n            uni.createSelectorQuery()\n                .select('.list-scroll-box')\n                .boundingClientRect((res) => {\n                    this.setData({\n                        scrollHeight: res.height\n                    });\n                })\n                .exec();\n        },\n\n        breakPage() {\n            //返回页面\n            var pagesList = getCurrentPages();\n\n            if (pagesList.length > 1) {\n                uni.navigateBack();\n            } else {\n                uni.navigateTo({\n                    url: '/pages/shopHome/home/home'\n                });\n            }\n        },\n\n        switchClass(e) {\n            //切换分类\n            var classId = e.currentTarget.dataset.classid;\n            this.setData(\n                {\n                    nowClassId: classId\n                },\n                () => {\n                    this.getActivityGoodsList();\n                }\n            );\n        },\n\n        getClassityList() {\n            //获取分类列表\n            console.log('分享页面也进来了这个函数');\n            app.globalData\n                .sjrequest1('/activityCommodityBusiness/commodityClassifyPageList', {\n                    pageSize: 20,\n                    currentPage: 1,\n                    merchantId: this.merchantId,\n                    templateTag: this.templateTag\n                })\n                .then((res) => {\n                    if (res.statusCode == 200 && res.data.code === 0) {\n                        var data = res.data.data || {};\n                        var list = data.list || [];\n                        list = list.filter((item) => item.activityList !== null);\n                        var nowClassId = this.nowClassId;\n\n                        if (!nowClassId) {\n                            if (list[0]) {\n                                nowClassId = list[0].id;\n                            } else {\n                                nowClassId = '';\n                            }\n                        }\n\n                        var listDatas = {};\n                        list.forEach((item) => {\n                            var keyName = 'list' + item.id;\n                            listDatas[keyName] = {\n                                stopReq: false,\n                                pageNum: 1,\n                                list: []\n                            };\n                        });\n                        this.setData(\n                            {\n                                classNavList: list,\n                                nowClassId,\n                                listDatas\n                            },\n                            () => {\n                                this.getActivityGoodsList();\n                            }\n                        );\n                    }\n                });\n        },\n\n        getActivityGoodsList() {\n            //获取活动商品列表\n            var nowClassId = this.nowClassId;\n\n            if (!nowClassId) {\n                return;\n            }\n\n            var listDatas = this.listDatas;\n            var listObj = listDatas['list' + nowClassId];\n            app.globalData\n                .sjrequest1('/activityBusiness/pageList', {\n                    pageSize: this.pageSize,\n                    currentPage: listObj.pageNum,\n                    merchantId: this.merchantId,\n                    // \"state\": 2,\n                    templateTag: this.templateTag,\n                    commodityClassifyId: nowClassId\n                })\n                .then((res) => {\n                    if (res.statusCode == 200 && res.data.code === 0) {\n                        var data = res.data.data || {};\n                        var list = data.list || [];\n                        listObj.stopReq = list.length != this.pageSize;\n                        list.forEach((item) => {\n                            item.activityCommoditySkuList = item.activityCommoditySkuList || [];\n                            var skuItem = item.activityCommoditySkuList[0] || {};\n                            item.imageUrl = item.bannerImgUrls[0];\n                            item.price = skuItem.price;\n                            item.lowPrice = skuItem.livePrice;\n                            var percentNum = item.residueCommodityTotalCount / item.commodityTotalCount;\n                            percentNum *= 100;\n                            item.percentNum = Number(percentNum.toFixed(2)); //计算销售总数量\n\n                            item.salesTotalCount = item.commodityTotalCount - item.residueCommodityTotalCount;\n                            var saveAmount = item.price - item.lowPrice;\n                            item.saveAmount = parseInt(saveAmount);\n                        });\n\n                        if (listObj.pageNum == 1) {\n                            listObj.list = list;\n                        } else {\n                            listObj.list.push(...list);\n                        }\n\n                        this.setData(\n                            {\n                                listDatas,\n                                dataList: listObj.list\n                            },\n                            () => {\n                                console.log(this.dataList);\n                            }\n                        );\n                    }\n                });\n        },\n\n        refresherpulling() {\n            //下拉刷新被下拉\n            this.setData(\n                {\n                    refresherStatus: true\n                },\n                () => {\n                    setTimeout(() => {\n                        this.setData({\n                            refresherStatus: false\n                        });\n                    }, 1000);\n                }\n            );\n        },\n\n        refresherrefresh() {\n            //下拉刷新被触发\n            var listDatas = this.listDatas;\n            var nowClassId = this.nowClassId;\n            var nowListObj = listDatas['list' + nowClassId] || {};\n            nowListObj.pageNum = 1;\n            nowListObj.stopReq = false;\n            this.setData(\n                {\n                    listDatas\n                },\n                () => {\n                    this.getActivityGoodsList();\n                }\n            );\n        },\n\n        scrolltolower() {\n            //滚动到底部\n            var listDatas = this.listDatas;\n            var nowClassId = this.nowClassId;\n            var nowListObj = listDatas['list' + nowClassId] || {};\n\n            if (!nowListObj.stopReq) {\n                nowListObj.pageNum++;\n                this.setData(\n                    {\n                        listDatas\n                    },\n                    () => {\n                        this.getActivityGoodsList();\n                    }\n                );\n            }\n        }\n    }\n};\n</script>\n<style>\n/* pages/special_goods/activity-classify/activity-classify.wxss */\n\npage {\n    background-color: #f3f4f8;\n}\n.activity-classify-page {\n    height: 100vh;\n}\n\n/*---------- 顶部导航返回按钮 -----------*/\n.top-navigation-box {\n    position: fixed;\n    left: 0;\n    width: 100%;\n    z-index: 100;\n    color: #333;\n    padding-left: 30rpx;\n    box-sizing: border-box;\n}\n.top-navigation-box .icon-fanhui5 {\n    font-size: 75rpx;\n}\n/* --------------- */\n\n@font-face {\n    font-family: 'icon'; /* Project id 2691355 */\n    src: url('//at.alicdn.com/t/font_2691355_3bgd8uqx5zl.woff2?t=1630027642395') format('woff2'),\n        url('//at.alicdn.com/t/font_2691355_3bgd8uqx5zl.woff?t=1630027642395') format('woff'),\n        url('//at.alicdn.com/t/font_2691355_3bgd8uqx5zl.ttf?t=1630027642395') format('truetype');\n}\n\n.icon {\n    font-family: 'icon' !important;\n    font-size: 16px;\n    font-style: normal;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n.icon-fanhui5:before {\n    content: '\\e600';\n}\n\n.swiper-box {\n    height: 366rpx;\n}\n.swiper-box .banner-img {\n    width: 100%;\n    height: 100%;\n    background-color: #ccc;\n}\n\n/* 分类导航 */\n.classify-nav-list {\n    height: 92rpx;\n}\n.classify-nav-list .nav-item {\n    flex-shrink: 0;\n    padding: 0 30rpx;\n    color: #333;\n    font-size: 28rpx;\n}\n.classify-nav-list .sel-nav {\n    font-size: 32rpx;\n    font-weight: bold;\n    color: #ff0000;\n}\n.classify-nav-list .nav-item .under-line {\n    width: 70rpx;\n    height: 6rpx;\n    border-radius: 6rpx;\n    background-color: transparent;\n    margin-top: 5rpx;\n}\n.classify-nav-list .sel-nav .under-line {\n    background-color: #ff0000;\n}\n\n/* 商品列表 */\n.product-list .goods-item {\n    background-color: #fff;\n    padding: 20rpx;\n    box-sizing: border-box;\n}\n.product-list .goods-item:not(:first-child) {\n    margin-top: 20rpx;\n}\n.product-list .goods-item .goods-img {\n    width: 220rpx;\n    height: 220rpx;\n    border-radius: 16rpx;\n    background-color: #ccc;\n    margin-right: 20rpx;\n}\n.product-list .goods-item .goods-name {\n    font-size: 30rpx;\n    color: #333;\n    font-weight: bold;\n}\n.product-list .goods-item .reduced-price {\n    background-color: #ffe0e0;\n    color: #ff0000;\n    font-size: 18rpx;\n    padding: 2rpx 5rpx;\n    border-radius: 4rpx;\n}\n.product-list .goods-item .progress-box {\n    font-size: 18rpx;\n    color: #999;\n}\n\n/* 秒杀 */\n.product-list .goods-item .price-box {\n    font-size: 20rpx;\n    color: #fff;\n    padding: 0 20rpx;\n    background-color: #ff0000;\n    border-radius: 8rpx 0 0 8rpx;\n}\n.product-list .goods-item .price-box .price-num {\n    font-size: 40rpx;\n    font-weight: bold;\n}\n.product-list .goods-item .price-box .old-price {\n    text-decoration: line-through;\n    margin-left: 5rpx;\n}\n\n.product-list .goods-item .right-box {\n    background-color: #1577ff;\n    color: #fff;\n    font-size: 26rpx;\n    font-weight: bold;\n    width: 200rpx;\n    border-radius: 0 8rpx 8rpx 0;\n}\n.product-list .goods-item .ms-icon-img {\n    width: 40rpx;\n    height: 50rpx;\n}\n\n/* 拼团 */\n.product-list .goods-item .pt-btn-box .price-box {\n    font-size: 30rpx;\n    font-weight: bold;\n    background-color: #fee476;\n    color: #ff0000;\n    border-radius: 8rpx 0 0 8rpx;\n}\n.product-list .goods-item .pt-btn-box .price-symbol {\n    font-size: 24rpx;\n}\n.product-list .goods-item .pt-btn-box .price-int {\n    font-size: 40rpx;\n}\n.product-list .goods-item .pt-btn-box .old-price {\n    font-size: 20rpx;\n    color: #fff;\n    font-weight: normal;\n    text-decoration: line-through;\n    margin-left: 5rpx;\n}\n.product-list .goods-item .pt-btn-box .adorn-img {\n    width: 26rpx;\n    height: 64rpx;\n}\n.product-list .goods-item .pt-btn-box .pt-btn-str {\n    font-size: 26rpx;\n    color: #fff;\n    width: 125rpx;\n    background-color: #fd4a45;\n    border-radius: 0 8rpx 8rpx 0;\n}\n\n/* 推荐返利 */\n.product-list .goods-item .tjfl-btn-box .fl-price {\n    border-radius: 8rpx 0 0 30rpx;\n    background-color: #ff0000;\n    color: #fff;\n    font-size: 24rpx;\n    position: relative;\n    flex: 1;\n}\n.product-list .goods-item .tjfl-btn-box .fl-price .ljfx-str {\n    font-size: 22rpx;\n    color: #fff;\n    position: absolute;\n    top: 5rpx;\n    left: 5rpx;\n}\n.product-list .goods-item .tjfl-btn-box .fl-price .price-str {\n    position: relative;\n    top: 10rpx;\n    left: 10rpx;\n}\n.product-list .goods-item .tjfl-btn-box .fl-price .price-num {\n    font-size: 40rpx;\n    font-weight: bold;\n}\n.product-list .goods-item .tjfl-btn-box .fl-adom-img {\n    width: 60rpx;\n    height: 84rpx;\n}\n.product-list .goods-item .tjfl-btn-box .fl-btn-str {\n    font-size: 30rpx;\n    color: #fff;\n    width: 168rpx;\n    background-color: #fee476;\n    border-radius: 0 30rpx 8rpx 0;\n}\n\n.list-scroll-box .list-empty-box {\n    height: 500rpx;\n    font-size: 30rpx;\n    color: #999;\n}\n</style>\n","import mod from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activity-classify.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activity-classify.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1659404716188\n      var cssReload = require(\"D:/hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}