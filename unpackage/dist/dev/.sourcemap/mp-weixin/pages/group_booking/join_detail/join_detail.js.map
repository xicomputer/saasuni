{"version":3,"sources":["uni-app:///main.js","webpack:///D:/products/xssj_New_basic_uni/pages/group_booking/join_detail/join_detail.vue?b838","webpack:///D:/products/xssj_New_basic_uni/pages/group_booking/join_detail/join_detail.vue?bf52","webpack:///D:/products/xssj_New_basic_uni/pages/group_booking/join_detail/join_detail.vue?4728","webpack:///D:/products/xssj_New_basic_uni/pages/group_booking/join_detail/join_detail.vue?c019","uni-app:///pages/group_booking/join_detail/join_detail.vue","webpack:///D:/products/xssj_New_basic_uni/pages/group_booking/join_detail/join_detail.vue?20a8","webpack:///D:/products/xssj_New_basic_uni/pages/group_booking/join_detail/join_detail.vue?c6c3"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/group_booking/join_detail/join_detail.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/group_booking/join_detail/join_detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./join_detail.vue?vue&type=template&id=a428d044&\"\nvar renderjs\nimport script from \"./join_detail.vue?vue&type=script&lang=js&\"\nexport * from \"./join_detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./join_detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/group_booking/join_detail/join_detail.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./join_detail.vue?vue&type=template&id=a428d044&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./join_detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./join_detail.vue?vue&type=script&lang=js&\"","<template>\n    <view>\n        <view>\n            <view class=\"me-fx-col me-fx-c top-address\">\n                <view class=\"me-fx-row me-fx-sb-c address-empty-box\" v-if=\"!userShipping.id\" @tap=\"jumpAddressList\">\n                    <text class=\"sel-address-msg\">请选择收货地址</text>\n                    <image src=\"/static/pages/group_booking/imgs/right-jiantou.png\" class=\"right-jantou-img\"></image>\n                </view>\n                <view class=\"me-fx-row me-fx-sb-c\" v-else @tap=\"jumpAddressList\">\n                    <image src=\"/static/pages/group_booking/imgs/location-icon.png\" class=\"location-img\"></image>\n                    <view class=\"me-fx-1 center-content\">\n                        <view>\n                            <text class=\"user-name\">{{ userShipping.contacts }}</text>\n                            <text class=\"user-phone\">{{ userShipping.contactWay }}</text>\n                        </view>\n                        <view class=\"address-text\">{{ userShipping.fullAddress }}</view>\n                    </view>\n                    <image src=\"/static/pages/group_booking/imgs/pen-icon.png\" class=\"pen-icon\"></image>\n                </view>\n            </view>\n\n            <view class=\"section-content\">\n                <view class=\"me-fx-row goods-info\">\n                    <image :src=\"activityInfo.bannerImgUrls[0]\" class=\"goods-img\"></image>\n                    <view class=\"me-fx-col me-fx-sb me-fx-1\">\n                        <view class=\"me-full-text me-full-line2 goods-name\">{{ activityInfo.commodityName }}</view>\n                        <view class=\"me-fx-row me-fx-sb-c\">\n                            <view>\n                                <text class=\"now-price\">¥{{ skuInfo.livePrice }}</text>\n                                <text class=\"old-price\">¥{{ skuInfo.price }}</text>\n                            </view>\n                            <!-- <text class='people-num'>{{goodsInfo.activityJoinNumberTotal}}人已参与</text> -->\n                        </view>\n                    </view>\n                </view>\n\n                <view class=\"me-fx-col me-fx-c-c join-info\">\n                    <view class=\"me-fx-row me-fx-sb-c\">\n                        <image src=\"/static/pages/group_booking/imgs/shizhong-icon.png\" class=\"icon-img\"></image>\n                        <view class=\"title-msg\">等待成团，仅剩{{ groupInfo.groupOfNumber - groupInfo.groupJoinNumber }}个名额</view>\n                    </view>\n                    <view class=\"me-fx-row me-fx-start-c user-list\">\n                        <view class=\"avatar-item\" v-for=\"(item, index) in groupInfo.groupJoinUserHeads\" :key=\"index\">\n                            <image :src=\"item\" class=\"user-avatar\"></image>\n\n                            <text class=\"initiator-user-label\" v-if=\"index == 0\">团长</text>\n                        </view>\n                        <image\n                            src=\"/static/pages/group_booking/imgs/empty-avatar.png\"\n                            class=\"empty-avatar-img\"\n                            v-for=\"(item, ti) in groupInfo.groupOfNumber - groupInfo.groupJoinNumber\"\n                            :key=\"item.ti\"\n                        ></image>\n                    </view>\n                    <van-count-down :time=\"groupInfo.diffTimes\" :use-slot=\"true\" :auto-start=\"true\" @finish=\"finishFun\" @change=\"changeFun\">\n                        <view class=\"me-fx-row me-fx-c-c down-count-box\">\n                            距结束:\n                            <block v-if=\"groupInfo.downTimeObj.days !== '00'\">\n                                <text class=\"down-num\">{{ groupInfo.downTimeObj.days }}</text>\n                                天\n                            </block>\n                            <text class=\"down-num\">{{ groupInfo.downTimeObj.hours }}</text>\n                            时\n                            <text class=\"down-num\">{{ groupInfo.downTimeObj.minutes }}</text>\n                            分\n                            <text class=\"down-num\">{{ groupInfo.downTimeObj.seconds }}</text>\n                            秒\n                        </view>\n                    </van-count-down>\n                    <button class=\"immediately-join-btn\" @tap=\"settlement\">立即参团</button>\n                    <!-- <view class='prompt-msg'>每人限购1件，您已购买1件，无法再次参团</view> -->\n                </view>\n                <view class=\"groupbox\" @tap=\"jumpStrategy\">\n                    <image src=\"/static/pages/group_booking/imgs/groupbox.png\" class=\"icon\"></image>\n                    <text>点击查看拼团攻略</text>\n                    <image src=\"/static/pages/group_booking/imgs/groupbox.png\" class=\"icon\"></image>\n                </view>\n            </view>\n        </view>\n\n        <!-- 授权组件 -->\n        <auth-get-info></auth-get-info>\n    </view>\n</template>\n\n<script>\nimport authGetInfo from '../../Component/auth-get-info/auth-get-info';\n// import vanCountDown from '../../../miniprogram_npm/@vant/weapp/count-down/index';\n// pages/group_booking/join_detail/join_detail.js\nlet app = getApp();\nexport default {\n    components: {\n        authGetInfo,\n        // vanCountDown\n    },\n    data() {\n        return {\n            loginInfo: {},\n            //登录时返回的信息\n            shareUserId: '',\n            activityId: '',\n            downTimes: '',\n            downTimeObj: {},\n            activityInfo: {\n                bannerImgUrls: '',\n                commodityName: ''\n            },\n            groupInfo: {\n                groupOfNumber: 0,\n                groupJoinNumber: 0,\n                groupJoinUserHeads: [],\n                diffTimes: '',\n\n                downTimeObj: {\n                    days: '',\n                    hours: '',\n                    minutes: '',\n                    seconds: ''\n                }\n            },\n            skuInfo: {\n                livePrice: '',\n                price: ''\n            },\n            userShipping: {\n                id: '',\n                contacts: '',\n                contactWay: '',\n                fullAddress: ''\n            },\n            buyCount: 1,\n            appId: '',\n            goodsSkuId: '',\n            shareUrl: '/pages/group_booking/join_detail/join_detail' //分享页面\n        };\n    },\n    /**\n     * 生命周期函数--监听页面加载\n     */\n    onLoad: function (options) {\n        var scene = options.scene;\n        app.globalData.globalEvent.$on('loginComplete', () => {\n            if (scene) {\n                //扫码进入\n                this.getCodeParams(scene);\n            } else {\n                this.initData(options);\n            }\n\n            this.getMerchantInfo();\n        });\n    },\n    /**\n     * 生命周期函数--监听页面初次渲染完成\n     */\n    onReady: function () {},\n    /**\n     * 生命周期函数--监听页面显示\n     */\n    onShow: function () {},\n    /**\n     * 生命周期函数--监听页面隐藏\n     */\n    onHide: function () {},\n    /**\n     * 生命周期函数--监听页面卸载\n     */\n    onUnload: function () {},\n    /**\n     * 页面相关事件处理函数--监听用户下拉动作\n     */\n    onPullDownRefresh: function () {\n        this.getDetailInfo();\n        this.getMerchantInfo();\n    },\n    /**\n     * 页面上拉触底事件的处理函数\n     */\n    onReachBottom: function () {},\n    /**\n     * 用户点击右上角分享\n     */\n    onShareAppMessage: function () {\n        var groupInfo = this.groupInfo || {};\n        var query = {\n            groupInfo\n        };\n        query = JSON.stringify(query);\n        query = encodeURIComponent(query);\n        return {\n            title: this.loginInfo.nickName + '邀请你参与拼团活动',\n            path: this.shareUrl + `&query=${query}`,\n            imageUrl: this.activityInfo.bannerImgUrls[0]\n        };\n    },\n    /* 分享朋友圈 */\n    onShareTimeline() {\n        var groupInfo = this.groupInfo || {};\n        var query = {\n            groupInfo\n        };\n        query = JSON.stringify(query);\n        query = encodeURIComponent(query);\n        var userId = this.loginInfo.userId;\n        var activityId = this.activityId;\n        return {\n            title: this.loginInfo.nickName + '邀请你参与拼团活动',\n            imageUrl: this.activityInfo.bannerImgUrls[0],\n            query: `query=${query}&activityId=${activityId}&shareUserId=${userId}`\n        };\n    },\n    methods: {\n        initData(options) {\n            var query = decodeURIComponent(options.query);\n            var activityId = options.activityId || '';\n            var shareUserId = options.shareUserId;\n            query = JSON.parse(query);\n            var groupInfo = query.groupInfo || {};\n            this.getUserOpenGroup(groupInfo); //获取团信息的最新情况\n\n            this.setData(\n                {\n                    activityId,\n                    shareUserId\n                },\n                () => {\n                    this.getDetailInfo();\n                    this.getStoreInfo();\n                }\n            );\n        },\n\n        getCodeParams(id) {\n            //扫码进入该页面\n            let data = {\n                id\n            };\n            app.globalData.sjrequest('/marchant/queryIdentifica', data).then((res) => {\n                if (res.statusCode == 200 && res.data.code == 200) {\n                    var data = res.data.data;\n                    var scene = JSON.parse(data.scene);\n                    this.initData(scene);\n                }\n            });\n        },\n\n        getStoreInfo() {\n            //获取缓存信息\n            var activityId = this.activityId;\n            uni.getStorage({\n                key: 'zl_userInfo',\n                success: (res) => {\n                    var data = res.data || {};\n                    var info = data.data.data || {};\n                    var userId = info.userId;\n                    var loginInfo = {\n                        userId,\n                        openId: info.setInfo.openId,\n                        appId: info.setInfo.appId,\n                        nickName: info.nickname,\n                        marchantLogic: info.setInfo.headImage,\n                        marchantName: info.setInfo.appName,\n                        merchantId: info.setInfo.merchantId,\n                        userPhone: info.phoneNumber\n                    };\n                    var shareUrl = this.shareUrl + '?activityId=' + activityId + '&shareUserId=' + userId;\n                    this.codeInfo = data;\n                    this.setData({\n                        loginInfo,\n                        shareUrl\n                    });\n                }\n            });\n        },\n\n        jumpStrategy() {\n            //跳转攻略\n            uni.navigateTo({\n                url: '/pages/group_booking/strategy/strategy'\n            });\n        },\n\n        joinAddress(shipping) {\n            //拼接收货地址\n            var { provincesName, cityName, areaName, address } = shipping;\n            return provincesName + cityName + areaName + address;\n        },\n\n        getUserOpenGroup(groupInfo) {\n            //查询用户开团\n            app.globalData\n                .sjrequest1('/activityTTPTBusiness/groupListByActivityId', {\n                    activityId: groupInfo.activityId,\n                    merchantId: groupInfo.marchantId,\n                    status: 1,\n                    pageSize: 30,\n                    currentPage: 1,\n                    userId: groupInfo.userId\n                })\n                .then((res) => {\n                    if (res.statusCode == 200 && res.data.code === 0) {\n                        var data = res.data.data || {};\n                        var list = data.list || [];\n                        var newGroupInfo = list.find((item) => item.orderNo == groupInfo.orderNo);\n\n                        var endTime = this._parseDate(newGroupInfo.overTime, 'number');\n\n                        var nowTime = new Date().getTime();\n                        var diffTime = endTime - nowTime;\n                        newGroupInfo.diffTimes = diffTime;\n                        this.setData({\n                            groupInfo: newGroupInfo\n                        });\n                    }\n                });\n        },\n\n        jumpAddressList() {\n            //跳转收货地址列表\n            app.globalData.store.setState({\n                from: 'submitOrder'\n            });\n            uni.navigateTo({\n                url: '/pages/Address/AddressList/AddressList',\n                events: {\n                    addressChange: (data) => {\n                        var shipping = data.shipping;\n                        var fullAddress = this.joinAddress(shipping);\n                        shipping.fullAddress = fullAddress;\n                        this.setData({\n                            userShipping: shipping\n                        });\n                    }\n                }\n            });\n        },\n\n        finishFun() {\n            //倒计时完成\n        },\n\n        changeFun(e) {\n            //倒计时改变\n            var detail = e.detail;\n            var groupInfo = this.groupInfo;\n\n            for (var key in detail) {\n                var value = detail[key];\n\n                if (value < 10) {\n                    detail[key] = '0' + value;\n                } else {\n                    detail[key] = value;\n                }\n            }\n\n            groupInfo.downTimeObj = detail;\n            this.setData({\n                groupInfo\n            });\n        },\n\n        _parseDate(str, resType) {\n            //resType 取值 'object' | 'number'\n            var a = str.split(/[^0-9]+/);\n            var date = new Date(a[0], a[1] - 1, a[2], a[3] || 0, a[4] || 0, a[5] || 0);\n            return resType == 'number' ? date.getTime() : date;\n        },\n\n        getDetailInfo() {\n            //获取详情信息\n            app.globalData\n                .sjrequest1('/activityBusiness/activityDetail', {\n                    activityId: this.activityId\n                })\n                .then((res) => {\n                    uni.stopPullDownRefresh();\n\n                    if (res.statusCode == 200 && res.data.code === 0) {\n                        var data = res.data.data;\n                        var currentSku = data.activityCommoditySkuList.find((item) => item.isDefault == 1);\n                        currentSku || (currentSku = data.activityCommoditySkuList[0]);\n                        data.price = currentSku.price;\n                        data.lowPrice = currentSku.livePrice;\n                        data.soldCount = data.commodityTotalCount - data.residueCommodityTotalCount;\n                        var userShipping = data.userShipping || {};\n                        var { provincesName, cityName, areaName, address } = userShipping;\n                        userShipping.fullAddress = provincesName + cityName + areaName + address;\n                        this.setData({\n                            skuInfo: currentSku,\n                            userShipping,\n                            activityInfo: data,\n                            goodsSkuId: currentSku.skuId\n                        });\n                    }\n                });\n        },\n\n        getMerchantInfo() {\n            //获取商家信息\n            uni.getStorage({\n                key: 'zl_userInfo',\n                success: (res) => {\n                    var data = res.data || {};\n\n                    if (data.statusCode == 200 && data.data.code == 200) {\n                        var info = data.data.data || {};\n                        var selInfo = info.setInfo || {};\n                        this.setData({\n                            appId: selInfo.appId\n                        });\n                    }\n                }\n            });\n        },\n\n        settlement() {\n            //结算\n            if (this.activation) {\n                return;\n            }\n\n            this.activation = true;\n            setTimeout(() => {\n                this.activation = null;\n            }, 1500);\n            var { userShipping, skuInfo, buyCount, shareUserId, appId, commodityId } = this;\n            var { activityId, orderNo } = this.groupInfo;\n            var { limitBuyCount, commodityId, marchantId } = this.activityInfo;\n            var residueCount = skuInfo.residueCommoditySkuCount;\n\n            if (buyCount > residueCount && residueCount !== -1) {\n                return uni.showToast({\n                    title: '您购买的数量超出了库存',\n                    icon: 'none'\n                });\n            }\n\n            if (buyCount > limitBuyCount && limitBuyCount !== -1) {\n                return uni.showToast({\n                    title: '你还剩' + limitBuyCount + '次限购数量',\n                    icon: 'none'\n                });\n            }\n\n            if (!userShipping.id) {\n                return uni.showToast({\n                    title: '你还未添加收货地址',\n                    icon: 'none'\n                });\n            }\n\n            var reqData = {\n                userHippingId: userShipping.id,\n                skuId: skuInfo.skuId,\n                amount: buyCount,\n                commodityId,\n                appId,\n                merchantId: marchantId,\n                shareUserId,\n                activityId,\n                groupOrderNo: orderNo\n            };\n            reqData.isOpenGroup = this.buyType == 2;\n            uni.showLoading({\n                title: '生成订单',\n                mask: true\n            });\n            app.globalData.sjrequest1('/activityOrderBusiness/wxPay', reqData).then((res) => {\n                uni.hideLoading();\n\n                if (res.statusCode == 200 && res.data.code == 0) {\n                    var data = res.data.data;\n                    var orderNumber = data.orderNo;\n                    uni.requestPayment({\n                        ...data,\n                        success: (res) => {\n                            const eventChannel = this.getOpenerEventChannel();\n                            eventChannel.emit('uploadData');\n                            var query = {\n                                orderNum: data.orderNo,\n                                goodsName: this.goodsName,\n                                skuName: this.skuInfo.skuName,\n                                buyCount: this.buyCount\n                            };\n                            var queryStr = JSON.stringify(query);\n                            queryStr = 'query=' + encodeURIComponent(queryStr);\n                            this.subscribeMsg(orderNumber, () => {\n                                uni.redirectTo({\n                                    url: '/pages/group_booking/pay-success/pay-success?' + queryStr\n                                });\n                            });\n                        },\n                        fail: (err) => {\n                            uni.navigateTo({\n                                url: '/pages/group_booking/order-list/order-list?status=0'\n                            });\n                        }\n                    });\n                }\n            });\n        },\n\n        subscribeMsg(orderNum, callback) {\n            var appid = this.appId;\n\n            if (appid) {\n                return app.globalData\n                    .sjrequest1('/subTemplate/listPriTemplateId', {\n                        authorizerAppid: appid,\n                        sceneTypes: [1, 3, 7]\n                    })\n                    .then((res) => {\n                        if (res.statusCode == 200 && res.data.code == 200) {\n                            return res.data.data;\n                        }\n                    })\n                    .then((tempids) => {\n                        uni.requestSubscribeMessage({\n                            tmplIds: tempids,\n                            success: (res) => {\n                                if (res[tempids[0]] === 'accept') {\n                                    app.globalData\n                                        .sjrequest1('/subscription/add', [\n                                            {\n                                                marchantid: this.merchantId,\n                                                appid: this.appid,\n                                                templateid: tempids[0],\n                                                targetid: orderNum,\n                                                targettype: 6,\n                                                status: 1\n                                            },\n                                            {\n                                                marchantid: this.merchantId,\n                                                appid: this.appid,\n                                                templateid: tempids[1],\n                                                targetid: this.activityId,\n                                                targettype: 2,\n                                                status: 1\n                                            },\n                                            {\n                                                marchantid: this.merchantId,\n                                                appid: this.appid,\n                                                templateid: tempids[2],\n                                                targetid: this.activityId,\n                                                targettype: 2,\n                                                status: 1\n                                            }\n                                        ])\n                                        .then((res) => {\n                                            if (res.statusCode == 200 && res.data.code == 0) {\n                                                uni.showToast({\n                                                    title: '订阅成功',\n                                                    icon: 'none'\n                                                });\n                                            }\n                                        });\n                                }\n                            },\n                            complete: (res) => {\n                                callback();\n                            }\n                        });\n                    });\n            }\n        },\n\n        getPhoneNumber(e) {\n            var detail = e.detail;\n            var { appId, openId } = this.loginInfo;\n\n            if (detail.iv) {\n                var { iv, encryptedData } = detail;\n                app.globalData\n                    .sjrequest('/thirdWxLogin/deciphering', {\n                        appid: appId,\n                        openid: openId,\n                        iv,\n                        encryptedData\n                    })\n                    .then((res) => {\n                        if (res.statusCode == 200 && res.data.code == 200) {\n                            var codeInfo = this.codeInfo;\n                            var phone = res.data.data.phoneNumber;\n                            var loginInfo = this.loginInfo;\n                            loginInfo.userPhone = phone;\n                            this.setData({\n                                loginInfo\n                            });\n\n                            if (codeInfo && codeInfo.data && codeInfo.data.data) {\n                                var resData = codeInfo.data.data;\n                                resData.phoneNumber = phone;\n                                uni.setStorage({\n                                    key: 'zl_userInfo',\n                                    data: resData\n                                });\n                            }\n                        }\n                    });\n            }\n        }\n    }\n};\n</script>\n<style>\npage {\n    background-color: #f2f4f4;\n}\n\n/* 头部地址 */\n.top-address {\n    margin: 10rpx 0;\n    background-color: #fff;\n    padding: 10rpx 30rpx;\n    box-sizing: border-box;\n    min-height: 128rpx;\n}\n.top-address .sel-address-msg {\n    font-size: 28rpx;\n    color: #acacac;\n}\n.top-address .right-jantou-img {\n    width: 18rpx;\n    height: 32rpx;\n}\n.top-address .pen-icon {\n    width: 36rpx;\n    height: 36rpx;\n}\n.top-address .location-img {\n    width: 56rpx;\n    height: 56rpx;\n}\n.top-address .center-content {\n    margin: 0 20rpx;\n}\n.top-address .user-name {\n    font-size: 28rpx;\n    color: #000;\n    font-weight: bold;\n}\n.top-address .user-phone {\n    font-size: 24rpx;\n    color: #acacac;\n    margin-left: 16rpx;\n}\n.top-address .address-text {\n    font-size: 24rpx;\n    color: #0f0f0f;\n}\n\n/* 主要内容 */\n.section-content {\n    background-color: #fff;\n    padding-bottom: 20rpx;\n    margin-bottom: 40rpx;\n}\n\n/* 商品信息 */\n.section-content .goods-info {\n    width: 710rpx;\n    margin: 0 auto;\n    padding: 30rpx 0;\n    border-bottom: 1rpx solid #e5e5e5;\n}\n.section-content .goods-info .goods-img {\n    width: 156rpx;\n    height: 156rpx;\n    background-color: #ccc;\n    border-radius: 8rpx;\n    margin-right: 16rpx;\n}\n.section-content .goods-info .goods-name {\n    font-size: 28rpx;\n    color: #0f0f0f;\n}\n.section-content .goods-info .now-price {\n    font-size: 40rpx;\n    color: #eb1918;\n    font-weight: bold;\n}\n.section-content .goods-info .old-price {\n    font-size: 22rpx;\n    color: #acacac;\n    text-decoration: line-through;\n    margin-left: 16rpx;\n}\n.section-content .goods-info .people-num {\n    font-size: 26rpx;\n    color: #acacac;\n}\n\n/* 参团信息 */\n.section-content .join-info {\n    margin: 50rpx 0 60rpx;\n    padding: 0 20rpx;\n    box-sizing: border-box;\n}\n.section-content .join-info .icon-img {\n    width: 56rpx;\n    height: 56rpx;\n    margin-right: 34rpx;\n}\n.section-content .join-info .title-msg {\n    font-size: 36rpx;\n    color: #0f0f0f;\n    font-weight: bold;\n}\n\n.section-content .join-info .user-list {\n    margin: 58rpx 0 34rpx;\n    flex-wrap: wrap;\n}\n.section-content .join-info .user-list .avatar-item {\n    position: relative;\n    margin: 0 20rpx 15rpx 0;\n}\n.section-content .join-info .user-list .avatar-item .user-avatar {\n    width: 100rpx;\n    height: 100rpx;\n    border-radius: 50%;\n    background-color: #ccc;\n}\n.section-content .join-info .user-list .avatar-item .initiator-user-label {\n    background-color: #1577ff;\n    border-radius: 14px 14px 14px 0px;\n    font-size: 18rpx;\n    color: #fff;\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    padding: 2rpx 10rpx;\n}\n.section-content .join-info .user-list .empty-avatar-img {\n    width: 100rpx;\n    height: 100rpx;\n    margin-right: 20rpx;\n    margin-bottom: 15rpx;\n}\n\n.section-content .join-info .down-count-box {\n    font-size: 26rpx;\n    color: #0f0f0f;\n    font-weight: bold;\n    margin-bottom: 40rpx;\n}\n.section-content .join-info .down-count-box .down-num {\n    width: 48rpx;\n    height: 56rpx;\n    border-radius: 8rpx;\n    background-color: #ffbb38;\n    color: #fff;\n    font-size: 35rpx;\n    font-weight: bold;\n    text-align: center;\n    margin: 0 10rpx;\n    line-height: 56rpx;\n}\n\n.section-content .join-info .immediately-join-btn {\n    width: 382rpx;\n    height: 74rpx;\n    color: #fff;\n    font-size: 24rpx;\n    padding: 0;\n    margin: 0;\n    border-radius: 38rpx;\n    background-color: #eb1918;\n    line-height: 74rpx;\n}\n\n.section-content .join-info .prompt-msg {\n    font-size: 18rpx;\n    color: #eb1918;\n    margin-top: 15rpx;\n}\n\n/* 攻略 */\n.section-content .strategy-box {\n    width: 710rpx;\n    border: 4rpx solid #1577ff;\n    margin: 0 auto;\n    border-radius: 16rpx;\n}\n.section-content .strategy-box .title-box {\n    font-size: 28rpx;\n    color: #1577ff;\n    font-weight: bold;\n    height: 80rpx;\n}\n.section-content .strategy-box .text-content {\n    font-size: 24rpx;\n    color: #0f0f0f;\n    padding: 0 20rpx 20rpx;\n    box-sizing: border-box;\n}\n\n.groupbox {\n    display: flex;\n    border-radius: 16rpx;\n    border: 2rpx solid #1577ff;\n    margin: 0 20rpx;\n    height: 98rpx;\n    align-items: center;\n    justify-content: center;\n}\n.groupbox text {\n    font-size: 28rpx;\n    font-weight: bold;\n    color: #1577ff;\n    padding: 0 6rpx;\n}\n.groupbox .icon {\n    width: 30rpx;\n    height: 34rpx;\n}\n\n/* 绑定手机号按钮 */\n.get-phone-btn {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: transparent;\n    border-radius: 0;\n}\n.get-phone-btn:after {\n    border: 0;\n}\n</style>\n","import mod from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./join_detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./join_detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1659404716532\n      var cssReload = require(\"D:/hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}